{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Projecto Mkdocs Hugo Gallardo Esta sera la pagina que se utilizara para documentar todos los Sprint's que se hagan. Intentaremos no suspenderlos... Creative Commons","title":"Introduccion"},{"location":"#projecto-mkdocs-hugo-gallardo","text":"Esta sera la pagina que se utilizara para documentar todos los Sprint's que se hagan. Intentaremos no suspenderlos...","title":"Projecto Mkdocs Hugo Gallardo"},{"location":"#creative-commons","text":"","title":"Creative Commons"},{"location":"Sprint1/","text":"Sprint 1 Aqui se documentara toda la informacion necesaria sobre el Sprint 1 . Instalacion del sistema operativo En estas capturas se mostrara las partes importantes a tener en cuenta a la hora de instalar un sistema operativo. Configuraci\u00f3n En esta captura se puede apreciar la configuraci\u00f3n que se le a dado a la Maquina Virtual y la ISO a\u00f1adida . Particiones En este apartado veremos como se pueden crear las particiones en la instalaci\u00f3n del Ubuntu una vez esta configurada en el VirtualBox . Aqui vemos el espacio que se le asigna a una de als particiones dandole a \"Nueva Partici\u00f3n\" sobre \"Espacio Libre\", asi podremos crear tantas particiones como queramos. Finalmente se crean las particiones necesarias y asi quedaria. Red En esta captura se muestra la RED que se le a\u00f1ade a la Maquina Virtual, en este caso se le pone el tipo de red Xarxa NAT . Xarxa Nat: \" Una red NAT es una red que crear\u00e1 VirtualBox que permite compartir dicha red con varias m\u00e1quinas virtuales de este sistema anfitri\u00f3n. Adem\u00e1s, VirtualBox en este tipo de red va a proporcionar una puerta de enlace con salida a Internet en la direcci\u00f3n de host n\u00famero 1 de la red. Adem\u00e1s, VirtualBox proporcionar\u00e1 un servidor DHCP para dicha red de forma que los equipos conectados a la red pueden obtener autom\u00e1ticamente informaci\u00f3n de configuraci\u00f3n de red. \" Licenciamiento Ubuntu es un programa libre Datos sobre la licencia de un programa libre: Para que un programa sea libre se tiene que poder utilizar sin condiciones Se tiene que poder estudiar y adaptarlo a las condiciones Se tiene que poder tener acceso abierto al codigo Se tiene que poder distribuir Se tiene que poder mejorar y se podran distribuir las modificaciones. Puntos de restauracion Configuracion b\u00e1sica de la red Nos introducimos dentro de la carpeta \"/etc/netplan\" y modificamos el archivo de Red a\u00f1adiendo la configuracion que nosotros queramos para nuestra red Para que esta configuracion se guarde tendremos que utilizar el comando \"netplan apply\" Al realizar \"ip a\" veremos que la configuracion editada en el anterior archivo se a verificado y aplicado correctamente. Instalacion de aplicacions Comandos basicos a tener en cuenta: Comandos para actualizar: apt update -> actualitza llista de tos els paquets mirant el fitxer /etc/apt/sources.list apt upgrade -> actualitza el sistema, instal\u00b7lant noves versions en cas que existeixin, per\u00f2 NO instal\u00b7la nous paquets apt dist-upgrade -> igual que l'aneterior, per\u00f2 tamb\u00e9 instal\u00b7lar\u00e0 nous paquets en cas que existeixin Comandos para eliminar: apt remove paquet -> esborra paquet apt purge paquet -> esborra paquet i configuracions apt autoremove -> esborra paquets del SO que ja no s'utilitzen apt clean -> esborra paquets descarregats DPKG: dpkg -r paquet dpkg -P paquet dpkg -i arxiu.deb dpkg -s paquet -> per a veure la priority del paquet (required, important, standard, optional, extra) dpkg-reconfigure dpkg \u2013get-selections | grep paquet \u2192 no el mostra si no est\u00e0 instal\u00b7lat Instalacion y Desinsatalacion Guiandonos de los comandos que puse arriba es muy sencillo instalar o desinstalar un paquete con \"apt\". Con dpkg es algo mas complicado, tienes que descargar un paquete .deb por google y utilizar una serie de comandos en la terminal: Con la desinstalaci\u00f3n pasa lo mismo, es muy sencillo con ambos sistemas. Repositorios Los repositoris son aquellas zonas donde busca el sistema el paquete que tu quieres instalar con un \"apt\", en ocasiones si en la instalacion de ubuntu no seleccionamos la opcion avanzada no nos a\u00f1adira repositorios como el de \"google\" por lo que abra paquetes que no se podran instalar ya que no los encontrara. Gestor de arrancada \u00bfQue es un Gestor de arrancada? Un Gestor de Arrancada (o \"Boot Manager\" en ingl\u00e9s) es un software que se encarga de gestionar el proceso de arranque del sistema operativo. Su funci\u00f3n principal es determinar qu\u00e9 sistema operativo cargar si hay m\u00faltiples instalados y facilitar la selecci\u00f3n del mismo. Cuando enciendes el ordenador, el Gestor de Arrancada se activa despu\u00e9s del POST (Power-On Self Test) y permite al usuario elegir entre diferentes opciones de arranque, como diferentes sistemas operativos o modos de recuperaci\u00f3n. Algunos ejemplos de gestores de arranque son GRUB (GNU Grand Unified Bootloader) y el gestor de arranque de Windows. Sistemas de almacenamiento MBR (Master Boot Record) Estructura: Utiliza una tabla de particiones que permite hasta cuatro particiones primarias. Si se necesita m\u00e1s, se puede crear una partici\u00f3n extendida que contenga particiones l\u00f3gicas. Capacidad: Soporta discos de hasta 2 TB. Si el disco es m\u00e1s grande, MBR no podr\u00e1 gestionar el espacio adicional. Compatibilidad: Es m\u00e1s antiguo y compatible con una amplia gama de sistemas operativos, incluidos muchos BIOS tradicionales. Limitaciones: No admite caracter\u00edsticas avanzadas como el almacenamiento redundante o el arranque desde discos duros de m\u00e1s de 2 TB. GPT (GUID Partition Table) Estructura: Permite un n\u00famero pr\u00e1cticamente ilimitado de particiones (en la pr\u00e1ctica, hasta 128 en Windows). Cada partici\u00f3n tiene un identificador \u00fanico. Capacidad: Soporta discos de tama\u00f1o mucho mayor, m\u00e1s de 9.4 ZB (zettabytes), lo que lo hace ideal para discos modernos. Compatibilidad: Es parte del est\u00e1ndar UEFI (Unified Extensible Firmware Interface), que reemplaza el BIOS. No todos los sistemas operativos m\u00e1s antiguos son compatibles con GPT. Ventajas: Incluye caracter\u00edsticas como la redundancia de la tabla de particiones (se almacena una copia en el principio y otra al final del disco) y una verificaci\u00f3n de integridad para proteger la tabla de particiones. Tabla comparativa","title":"Sprint1"},{"location":"Sprint1/#sprint-1","text":"Aqui se documentara toda la informacion necesaria sobre el Sprint 1 .","title":"Sprint 1"},{"location":"Sprint1/#instalacion-del-sistema-operativo","text":"En estas capturas se mostrara las partes importantes a tener en cuenta a la hora de instalar un sistema operativo.","title":"Instalacion del sistema operativo"},{"location":"Sprint1/#configuracion","text":"En esta captura se puede apreciar la configuraci\u00f3n que se le a dado a la Maquina Virtual y la ISO a\u00f1adida .","title":"Configuraci\u00f3n"},{"location":"Sprint1/#particiones","text":"En este apartado veremos como se pueden crear las particiones en la instalaci\u00f3n del Ubuntu una vez esta configurada en el VirtualBox . Aqui vemos el espacio que se le asigna a una de als particiones dandole a \"Nueva Partici\u00f3n\" sobre \"Espacio Libre\", asi podremos crear tantas particiones como queramos. Finalmente se crean las particiones necesarias y asi quedaria.","title":"Particiones"},{"location":"Sprint1/#red","text":"En esta captura se muestra la RED que se le a\u00f1ade a la Maquina Virtual, en este caso se le pone el tipo de red Xarxa NAT . Xarxa Nat: \" Una red NAT es una red que crear\u00e1 VirtualBox que permite compartir dicha red con varias m\u00e1quinas virtuales de este sistema anfitri\u00f3n. Adem\u00e1s, VirtualBox en este tipo de red va a proporcionar una puerta de enlace con salida a Internet en la direcci\u00f3n de host n\u00famero 1 de la red. Adem\u00e1s, VirtualBox proporcionar\u00e1 un servidor DHCP para dicha red de forma que los equipos conectados a la red pueden obtener autom\u00e1ticamente informaci\u00f3n de configuraci\u00f3n de red. \"","title":"Red"},{"location":"Sprint1/#licenciamiento","text":"Ubuntu es un programa libre Datos sobre la licencia de un programa libre: Para que un programa sea libre se tiene que poder utilizar sin condiciones Se tiene que poder estudiar y adaptarlo a las condiciones Se tiene que poder tener acceso abierto al codigo Se tiene que poder distribuir Se tiene que poder mejorar y se podran distribuir las modificaciones.","title":"Licenciamiento"},{"location":"Sprint1/#puntos-de-restauracion","text":"","title":"Puntos de restauracion"},{"location":"Sprint1/#configuracion-basica-de-la-red","text":"Nos introducimos dentro de la carpeta \"/etc/netplan\" y modificamos el archivo de Red a\u00f1adiendo la configuracion que nosotros queramos para nuestra red Para que esta configuracion se guarde tendremos que utilizar el comando \"netplan apply\" Al realizar \"ip a\" veremos que la configuracion editada en el anterior archivo se a verificado y aplicado correctamente.","title":"Configuracion b\u00e1sica de la red"},{"location":"Sprint1/#instalacion-de-aplicacions","text":"","title":"Instalacion de aplicacions"},{"location":"Sprint1/#comandos-basicos-a-tener-en-cuenta","text":"Comandos para actualizar: apt update -> actualitza llista de tos els paquets mirant el fitxer /etc/apt/sources.list apt upgrade -> actualitza el sistema, instal\u00b7lant noves versions en cas que existeixin, per\u00f2 NO instal\u00b7la nous paquets apt dist-upgrade -> igual que l'aneterior, per\u00f2 tamb\u00e9 instal\u00b7lar\u00e0 nous paquets en cas que existeixin Comandos para eliminar: apt remove paquet -> esborra paquet apt purge paquet -> esborra paquet i configuracions apt autoremove -> esborra paquets del SO que ja no s'utilitzen apt clean -> esborra paquets descarregats DPKG: dpkg -r paquet dpkg -P paquet dpkg -i arxiu.deb dpkg -s paquet -> per a veure la priority del paquet (required, important, standard, optional, extra) dpkg-reconfigure dpkg \u2013get-selections | grep paquet \u2192 no el mostra si no est\u00e0 instal\u00b7lat","title":"Comandos basicos a tener en cuenta:"},{"location":"Sprint1/#instalacion-y-desinsatalacion","text":"Guiandonos de los comandos que puse arriba es muy sencillo instalar o desinstalar un paquete con \"apt\". Con dpkg es algo mas complicado, tienes que descargar un paquete .deb por google y utilizar una serie de comandos en la terminal: Con la desinstalaci\u00f3n pasa lo mismo, es muy sencillo con ambos sistemas.","title":"Instalacion y Desinsatalacion"},{"location":"Sprint1/#repositorios","text":"Los repositoris son aquellas zonas donde busca el sistema el paquete que tu quieres instalar con un \"apt\", en ocasiones si en la instalacion de ubuntu no seleccionamos la opcion avanzada no nos a\u00f1adira repositorios como el de \"google\" por lo que abra paquetes que no se podran instalar ya que no los encontrara.","title":"Repositorios"},{"location":"Sprint1/#gestor-de-arrancada","text":"","title":"Gestor de arrancada"},{"location":"Sprint1/#que-es-un-gestor-de-arrancada","text":"Un Gestor de Arrancada (o \"Boot Manager\" en ingl\u00e9s) es un software que se encarga de gestionar el proceso de arranque del sistema operativo. Su funci\u00f3n principal es determinar qu\u00e9 sistema operativo cargar si hay m\u00faltiples instalados y facilitar la selecci\u00f3n del mismo. Cuando enciendes el ordenador, el Gestor de Arrancada se activa despu\u00e9s del POST (Power-On Self Test) y permite al usuario elegir entre diferentes opciones de arranque, como diferentes sistemas operativos o modos de recuperaci\u00f3n. Algunos ejemplos de gestores de arranque son GRUB (GNU Grand Unified Bootloader) y el gestor de arranque de Windows.","title":"\u00bfQue es un Gestor de arrancada?"},{"location":"Sprint1/#sistemas-de-almacenamiento","text":"","title":"Sistemas de almacenamiento"},{"location":"Sprint1/#mbr-master-boot-record","text":"Estructura: Utiliza una tabla de particiones que permite hasta cuatro particiones primarias. Si se necesita m\u00e1s, se puede crear una partici\u00f3n extendida que contenga particiones l\u00f3gicas. Capacidad: Soporta discos de hasta 2 TB. Si el disco es m\u00e1s grande, MBR no podr\u00e1 gestionar el espacio adicional. Compatibilidad: Es m\u00e1s antiguo y compatible con una amplia gama de sistemas operativos, incluidos muchos BIOS tradicionales. Limitaciones: No admite caracter\u00edsticas avanzadas como el almacenamiento redundante o el arranque desde discos duros de m\u00e1s de 2 TB.","title":"MBR (Master Boot Record)"},{"location":"Sprint1/#gpt-guid-partition-table","text":"Estructura: Permite un n\u00famero pr\u00e1cticamente ilimitado de particiones (en la pr\u00e1ctica, hasta 128 en Windows). Cada partici\u00f3n tiene un identificador \u00fanico. Capacidad: Soporta discos de tama\u00f1o mucho mayor, m\u00e1s de 9.4 ZB (zettabytes), lo que lo hace ideal para discos modernos. Compatibilidad: Es parte del est\u00e1ndar UEFI (Unified Extensible Firmware Interface), que reemplaza el BIOS. No todos los sistemas operativos m\u00e1s antiguos son compatibles con GPT. Ventajas: Incluye caracter\u00edsticas como la redundancia de la tabla de particiones (se almacena una copia en el principio y otra al final del disco) y una verificaci\u00f3n de integridad para proteger la tabla de particiones.","title":"GPT (GUID Partition Table)"},{"location":"Sprint1/#tabla-comparativa","text":"","title":"Tabla comparativa"},{"location":"Sprint2/","text":"Sprint 2 Gesti\u00f3n de procesos \u00bfQue es un proceso? Un proceso es una instancia de un programa en ejecuci\u00f3n en un sistema operativo. Es decir, cuando ejecutas un programa, el sistema operativo crea un proceso que representa ese programa mientras est\u00e1 funcionando. TOP Es un comando que se utiliza para monitorear a tiempo real los procesos que se estan ejecutando en el sistema en ese momento. pstree La comanda pstree muestra una representaci\u00f3n en forma de \u00e1rbol de los procesos que se est\u00e1n ejecutando en un sistema basado en Unix/Linux. ps aux se utiliza para listar todos los procesos que se est\u00e1n ejecutando en el sistema, proporcionando informaci\u00f3n detallada sobre cada uno de ellos. Ctrl+C Ctrl + C se utiliza para interrumpir o detener un proceso en ejecuci\u00f3n en la terminal. Ejemplo: Ejecutamos un Ping hacia una IP aleatoria, en mi caso utilizare la 8.8.8.8 Para detener este proceso utilizaremos la combinacion de teclas Ctrl+C y se representara en la terminal de esta manera ^C , esto hara que se detenga el proceso y por lo tanto se dejaran de mandar Pings. Ctrl+Z Ctrl + Z se utiliza para suspender un proceso en ejecuci\u00f3n y enviarlo al fondo, deteni\u00e9ndolo temporalmente. Ejemplo Haremos el mismo ejemplo que en el caso anterior, le enviaremos un ping a la IP 8.8.8.8. Para suspender el proceso y enviarlo a un segundo plano haremos Ctrl+Z y se representara en la terminal de esta manera ^Z esto hara que se suspenda el proceso y se mande a un segundo plano. jobs El comando jobs muestra una lista de los procesos asociados a la sesi\u00f3n actual de la terminal que est\u00e1n en segundo plano, suspendidos o en ejecuci\u00f3n. Ejemplo Suspendemos un proceso para poder hacer un ejemplo Ahora ejecutamos la comanda jobs para ver los procesos suspendidos fg % El comando fg % se utiliza para reanudar un trabajo suspendido o en segundo plano y traerlo al primer plano de la terminal, permiti\u00e9ndote interactuar nuevamente con \u00e9l. Ejemplo Vamos a traer nuevamente el ping que suspendimos anteriormente y pudimos verlo con el jobs . Para volverlo a traer al primer plano haremos fg % numero_proceso en este caso el numero \"1\". kill -9 PID El comando kill -9 PID se utiliza para forzar la terminaci\u00f3n de un proceso identificado por su PID (Process ID). Ejemplo Para ver los procesos que tenemos activos ahora mismo vamos a usar el comando ps aux Y para deter alguno de los procesos que podemos ver en pantalla utilizaremos kill -9 PID . No sale ningun tipo de mensaje pero si volvemos a hacer ps aux podremos comprobar que ya no aparecera en la lista. Gesti\u00f3n de usuarios, grupos Archivos a tener en cuenta - PASSWD Ruta: /etc/passwd Extructura: nombre:contrase\u00f1a(x):id_usuario(1xxx):grupo_principal(1xxx):nombre_completo:Direccion_Directorio Funcionalidad: Contiene la informaci\u00f3n b\u00e1sica de las cuentas de usuario del sistema. - GROUP Ruta: /etc/group Extructura: nombre;contrase\u00f1a:identificador:(Mas usuarios si hay) Funcionalidad: Contiene la informaci\u00f3n sobre los grupos definidos en el sistema. - SHADOW Ruta: /etc/shadow Extructura: nombre_de_usuario:contrase\u00f1a_cifrada:\u00faltimo_cambio:min:max:aviso:inactividad:expiraci\u00f3n: Funcionalidad: Almacena la informaci\u00f3n cifrada de las contrase\u00f1as de los usuarios, as\u00ed como otros par\u00e1metros relacionados con la expiraci\u00f3n y validez de las contrase\u00f1as. - GSHADOW Ruta: /etc/gshadow Extructura: nombre_del_grupo:contrase\u00f1a_cifrada:administradores:miembros Funcionalidad: Se utiliza para almacenar informaci\u00f3n de los grupos, incluyendo las contrase\u00f1as cifradas de los grupos y los miembros de cada grupo con permisos especiales. SKEL Todos los archivos mencionados se encuentran dentro del skel, para poder verlos tendremos que hacer un ls -la ya que todo archivo que tenga un \".\" antes de su nombre estara oculto y no se vera con un simple ls /etc/skel -> Carpetas que se crearan cuando un nuevo usuario abra la interfaz por primera vez .profile -> Este archivo se ejecuta cuando inicias sesi\u00f3n en un shell de login (por ejemplo, cuando accedes al sistema desde un terminal virtual o SSH). Modificacion -> En este caso indicamos que la carpeta de home del usuario en vez de crearse en el /home se crearan en el /var .bashrc -> Sirve para configurar cosas como alias, funciones, colores, y otras personalizaciones del shell. Modificacion -> En este caso estamos creando una modificaci\u00f3n de un comando, cuando coloquemos \"conexio\" se hara un ls -la .bash_logout -> Este archivo se ejecuta al cerrar sesi\u00f3n en un shell de login. Modificacion -> En este caso estamos haciendo que siempre que se deslogue se eliminara la carpeta de descargas de los usuarios que tengan la carpeta en /home VARIABLE: $USER -> actua \u00fanicament sobre l\u2019usuari que es deslogea. Usuarios Comandos Basicos Creaci\u00f3n de usuarios Para crear usuarios tenemos 2 comandos los cuales podemos usar useradd y adduser. useradd: Es un comando m\u00e1s b\u00e1sico y de bajo nivel. Forma parte de las herramientas de gesti\u00f3n de usuarios de Linux. No realiza pasos adicionales ni configura par\u00e1metros autom\u00e1ticamente. Por ejemplo, al usar useradd, hay que especificar manualmente la creaci\u00f3n del directorio home, los grupos, la shell, y otras configuraciones si no se desea usar los valores predeterminados. Ideal para usuarios avanzados que necesitan personalizar cada aspecto de la cuenta. Creamos su home con el comando mkdir y le entregamos el propietario con el comando sudo chown . Le a\u00f1adimos una contrase\u00f1a al usuario Le asignamos el Shell predeterminado Comprobamos que se encuentre en los archivos y en la inteficie grafica: adduser: Es un script de Perl que utiliza useradd internamente. Proporciona una interfaz m\u00e1s amigable y realiza varias configuraciones por defecto, como la creaci\u00f3n autom\u00e1tica del directorio home, la asignaci\u00f3n de un grupo por defecto, y la solicitud de una contrase\u00f1a durante el proceso. Es m\u00e1s sencillo y pr\u00e1ctico para usuarios que quieren crear cuentas de usuario sin preocuparse por especificar cada par\u00e1metro. RESULTADOS: Eliminar Usuarios El comando deluser en sistemas Unix/Linux se utiliza para eliminar usuarios del sistema de manera sencilla. 1 - Eliminar un usuario: Si se ejecuta sin opciones adicionales, deluser elimina al usuario especificado del sistema, pero deja intactos los archivos del usuario, incluyendo su directorio home. deluser nombre_de_usuario 2 - Eliminar un usuario y su directorio home: Usando la opci\u00f3n --remove-home, deluser elimina al usuario junto con su directorio home y su contenido. deluser --remove-home hugo 3 - Eliminar un usuario y sus archivos: Con la opci\u00f3n --remove-all-files, deluser elimina todos los archivos de propiedad del usuario, independientemente de su ubicaci\u00f3n en el sistema, adem\u00e1s del directorio home. deluser --remove-all-files hugo 4 - Eliminar un usuario de un grupo: deluser tambi\u00e9n permite eliminar a un usuario de un grupo espec\u00edfico sin eliminar al usuario del sistema. deluser hugo sudo 5 - Eliminar un grupo: Tambi\u00e9n se puede usar deluser para eliminar un grupo utilizando la opci\u00f3n --group. deluser --group grupo1 Bloquear Usuarios usermod -L <nom> cat /etc/shadow Comprovamos que delante del password aparece un \"!\" para verificar que se a bloqueado man usermod (opcions de usermod) usermod -U <nom> Desbloquea al usuario por lo tanto desaparece el '!' del /etc/shadow Otros comandos usermod --shell /bin/bash <nom> (para cambiar el interprete de 'sh' a 'bash') mkdir <nom> (crea carpeta para un nuevo usuario) chown <nom>:<nom> <nom> (1:usuari 2:grup 3:nom carpeta) passwd <nom> (para configurar contrase\u00f1a) usermod -p <contrasenya> <nom> (contrase\u00f1a con texto plano) addgroup <nom> (crea un grupo con su id) adduser <nom> <nombre_grupo> (a\u00f1ade un usuario dentro de un grupo) GPASSWD gpasswd -a <nom> <nombre_grupo> (a\u00f1ade un usuario a grup) gpasswd -A <nom> <nombre_grupo> (hace que un usuario sea admin de un grupo) USERMOD usermod -a -G <nomg> <nom> (a\u00f1ade un usuario a un grupo y con la '-a' no elige el usuario de otros grupos) usermod -G <nombre_grupo> <nombre> (cambia el grupo principal del usuario) groupmod -n <Nuevo_nombre_grupo> <nombre_grupo> (cambia el nombre del grupo) Modificaciones crear usuarios Los archivos que vamos a modificar en esta parte y los importantes son: /etc/login.defs -> modifica los parametros a la hora de crear usuarios en general. /etc/adduser.conf -> Modifica parametros al usar el comando adduser. /etc/default/useradd -> Modifica parametros al usar el comando useradd. /etc/skell -> Todo lo que se cree dentro de esta carpeta se copiara en las homes de cada usuario creado Configuracion Skell En el Skell si haces un ls -la te saldran muchos archivos los cuales estan ocultos y ya explique anteriormente para que servian, en este caso lo que nos va a interesar es crear un enlace para comprovar si se crea en los nuevos usuarios. Configuraci\u00f3n login.defs Como mencione anteriormente este archivo modifica los parametros defaults a la hora de crear un usuario. En este caso los parametros que se modificaron son UID_MIN 2000 -> Esto hara que su numero de usuario sea minimo 2000 de manera default seria 1000 GID_MIN 2000 -> Esto hara que el numero de grupo sea minimo 2000 de manera default seria 1000 Tambien se modifico este apartado del mismo archivo el cual hara cambios con la contrase\u00f1a. PASS_MAX_DAYS 30 -> Esto hara que la misma contrase\u00f1a solo se podra tener durante 30 dias, despues se tendra que cambiar PASS_MIN_DAYS 5 -> Esto hara que tienen que pasar minimo 5 dias entre cambio y cambio de contrase\u00f1a PASS_WARN_AGE 10 -> Esto hara que te avise 10 dias antes de que te caduque la contrase\u00f1a. Configuraci\u00f3n adduser.conf Todo lo que se toque en este archivo cambiara los parametros a la hora de crear un usuario con el comando adduser . Todo lo que se ponga en este archivo prevalece sobre lo que se ponga en el archivo login.defs. En este archivo se modificaron los siguientes parametros: DHOME=/tmp -> Esto hara que las carpetas \"home\" de los usuarios no se crearan en la carpeta \"HOME\" sino en la ruta que tu le pongas en este caso en \"/tmp\" FIRST_UID=2000 -> Esto hara que su numero de usuario sea minimo 2000 de manera default seria 1000 FIRST_GID=2000 -> Esto hara que el numero de grupo sea minimo 2000 de manera default seria 1000 Comprobaciones Configuraci\u00f3n useradd Todo lo que se toque en este archivo cambiara los parametros a la hora de crear un usuario con el comando useradd En este archivo viene todo siempre completamente comentado ya que nunca te pide especificaciones a la hora de crear un usuario ya que lo tienes que hacer manualmente. Lo unico que se descomento es el paraemtro: - SHELL=/bin/bash -> Esto determina el SHELL de cada usuario creado con useradd en este caso seria /bin/bash. Igualmente las modificaciones que se seguirian en la creaci\u00f3n de un usuario con useradd serian las indicadas en el archivo login.defs Permisos Taula Permisos Decimal Permisos Normals PRUEBAS Para hacer las pruebas creamos un grupo y usuarios, a\u00f1adimos a 2 de los usuarios creados dentro del grupo en este caso se llama \u201cparchis\u201d Metemos 2 usuarios al grupo: chgrp Creamos la carpeta \u201cprova\u201d con un archivo en el interior llamado \u201chola\u201d y le modificamos los permisos a\u00f1adiendo al grupo parchis. A\u00f1adimos al grupo como propietario: El comando que utilizamos es chgrp Estructura: chgrp [Parametre] [Grup] [Directori/archiu] En nuestro caso utilizamos \u201c-R\u201d esto hara que sea recursivo, es decir que todo lo que haya en el interior de la carpeta tambien se le aplicaran los permisos. CHMOD Ahora cambiamos los permisos tambien para el resto de grupos/usuarios/ Orden: Usuario-Grupo-Others Estructura: chmod [Par\u00e1metro] [Permisos que quieres otorgar] [Carpeta] En nuestro caso utilizamos \u201c-R\u201d esto har\u00e1 que sea recursivo, es decir que todo lo que haya en el interior de la carpeta tambi\u00e9n se le aplicar\u00e1n los permisos. PRUEBAS GROC (Permisos Ususari) Podemos comprobar que con la configuraci\u00f3n que le hemos dado GROC al tener permisos de usuario puede hacer lo que sea dentro de la carpeta. PRUEBAS VERDE (Permisos Grup) Podemos ver que \u201cVerd\u201d ya que tiene los permisos de grupo \u00fanicamente podr\u00e1 entrar y ver el contenido del interior del directorio, pero no podr\u00e1 modificar nada de su interior ni ver el contenido de los archivos del interior. PRUEBA ROIG (permisos Others) Podemos ver que \u201cRoig\u201d ya que tiene los permisos de Others no podr\u00e1 ni acceder ni modificar el interior del directorio, Permisos Especials Para comprobar los permisos especiales utilizaremos una carpeta llamada Compartida, queremos que en esta carpeta todos los usuarios dentro del grupo de parch\u00eds puedan subir sus archivos y ver el interior pero no pueda eliminar los archivos del resto. Creamos la carpeta Sticky: Utilizaremos el chmod, le a\u00f1adiremos unos permisos normales \u201c757\u201d pero le colocaremos un \u201c1\u201d delante, esto hace que se le apliquen todos los permisos al grupo de Others pero no puedan eliminar documentos de otros usuarios. Comprobaciones: Creo 2 carpetas con el usuario \u201cRoig\u201d para comprobar que puede crear archivos en el interior de la carpeta, seguidamente compruebo que el puede eliminar sus propios archivos. Ahora cambio al usuario \u201cBlau\u201d y compruebo que puede crear sus archivos y que no puede eliminar los de Roig. Llista de control d'acces Para crear la lisa de controles utilizaremos el comando: getfacl [Nombre archivo] El comando getfacl en Linux se utiliza para mostrar las Listas de Control de Acceso (ACL) de archivos y directorios. setfacl Este comando nos servir\u00e1 para hacer excepciones sobre carpetas a usuarios en concreto o grupos en concreto Estructura: setfacl -m [user/group]:[usuari/grup]:[permisos] (nom carpeta) Comprobaciones Otros parametros setfacl -b (archivo) \u2192 Sirve para eliminar todas las excepciones que esten en un archivo/directorio setfacl -x (usuario) (directorio) \u2192 Sirve para eliminar las excepciones de 1 usuario en concreto sobre 1 directorio. Permisos umask umask -> comprobar la m\u00e1scara que tienes La mascara 022 = m\u00e1scara del root umask (numero) -> Te cambia la m\u00e1scara al numero que tu le asigne Dependiendo el n\u00famero de mascaras indicar\u00e1 los permisos que se le otorgaran a los directorios y archivos. Para calcular la mascara: Para calcular los permisos que dar\u00e1 una m\u00e1scara hay que hacer la operaci\u00f3n ahn con n\u00fameros binarios entre los permisos que se otorgan de manera default en el SO en el caso de los directorios (777) y en el caso de los archivos (640), seguidamente tienes que pasar a binario la m\u00e1scara que tengas en nuestro caso 002 despues hacerla a la inversa es decir los 0->1 y 1->0, despu\u00e9s al realizar el c\u00e1lculo ahn hay que volver a invertir la m\u00e1scara que nos dar\u00e1 es decir los 0->1 y 1->0, seguidamente pasamos nuevamente de binario a decimal y esa sera la m\u00e1scara que tendremos que usar. Modificar umask para nuevos usuarios: Usaremos el archivo /etc/login.defs Modificaremos el par\u00e1metro UMASK -> 022 al n\u00famero que nosotros queramos. Creamos el nuevo usuario para comprobar que se a cambiado: Sistemes de fitxers i particions COMANDES: fdisk -l -> Da informaci\u00f3n sobre los discos del sistema operativo. tune2fs -l (partici\u00f3) -> Sabremos la mida del Block que tiene servida la partici\u00f3n. df -T -> Sirve para ver todas las particiones que tenemos y el sistema de archivos y mas informaci\u00f3n. du -sh (archivo) -> Sirve para obtener informaci\u00f3n sobre el tama\u00f1o de un archivo o directorio en un formato m\u00e1s f\u00e1cil de leer para las personas. e4defrag -c (partici\u00f3n) -> Es un desfragmentador de Linux, con el par\u00e1metro \u201c-c\u201d \u00fanicamente dar\u00e1 informaci\u00f3n necesaria para saber si tenemos que desfragmentar el disco. e4defrag (partici\u00f3n) -> Sirve para comenzar a desfragmentar Estructura de la informaci\u00f3: Mida sector y block: El sector es la unidad m\u00ednima f\u00edsica donde se guardan los datos y por defecto son 512 bytes y el sistema operativa no trabaja en sectores trabaja en blocks y los blocks es la unidad m\u00ednima l\u00f3gica donde se guardan los datos por defecto. El tama\u00f1o del sector no se puede cambiar viene definida de f\u00e1brica, pero el tama\u00f1o del block si que se puede cambiar cuando formateamos la partici\u00f3n. Fragmentaci\u00f3 interna: La fragmentaci\u00f3n interna es toda esa parte desaprovechada de los blocks porque no se acaban de llenar. La fragmentaci\u00f3n interna se puede solucionar disminuyendo o aumentando la medida del block pero siempre hay que tener en cuenta que bajar\u00e1 el rendimiento ya que los archivos estar\u00e1n m\u00e1s fraccionados Fragmentaci\u00f3 externa: La fragmentaci\u00f3n externa cunado baja el rendimiento del sistema porque los archivos no se guardan en bloques continuos en la memoria, lo arreglamos con la desfragmentaci\u00f3n. Creaci\u00f3n de particiones y formatear Tipo de formateo Bajo nivel (lento) Realiza una operaci\u00f3n de bajo nivel en el disco que organiza f\u00edsicamente los sectores y las pistas. B\u00e1sicamente prepara el medio de almacenamiento (generalmente discos magn\u00e9ticos) para poder guardar datos desde cero. Se asignan los sectores f\u00edsicos del disco y se marcan las \u00e1reas defectuosas Entre Medio Elimina toda la informaci\u00f3n l\u00f3gica del disco, crea un sistema de archivos nuevo (FAT, NTFS, ext4, etc.) y revisa el disco en busca de errores (con un escaneo superficial). Este proceso sobrescribe los datos existentes y hace que parezca un disco nuevo a nivel l\u00f3gico. Rapido Borra solo la tabla de asignaci\u00f3n de archivos (o su equivalente seg\u00fan el sistema de archivos), lo que significa que los archivos existentes no se eliminan f\u00edsicamente, pero el sistema operativo \u201cpiensa\u201d que el espacio est\u00e1 vac\u00edo y puede escribir sobre \u00e9l. Es un proceso mucho m\u00e1s r\u00e1pido porque no escanea ni sobrescribe sectores. Practica Creamos un nuevo disco en el Virtual box para poder trabajar con el para hacer la practica. Entramos dentro de la maquina virtual e introducimos el siguiente comando para meternos dentro del disco Colocaremos n para crear particiones dentro del disco seleccionado. Nos da como recomendaci\u00f3n que sea predeterminada y con valor 1 asi que presionamos intro. Le indicamos el tama\u00f1o de la partici\u00f3n y salimos Una vez acabamos colocamos W para salir Comprobacion Colocamos fdisk -l para comprobar la lista de los discos y vemos la particion. Formatear Formateamos la particion y modificamos el tama\u00f1o del bloque mkfs.ext4 -b (modificacion del tama\u00f1o) (disco) Comprobaci\u00f3n del formateo Montaje particiones Temporal Primero creamos una carpeta en /var/ y dentro le ponemos un archivo en este caso un txt. mount -t (extension) (disco) (carpeta para montar la partici\u00f3n) Una vez montada la partici\u00f3n aparecera Podemos comprobar que desaparece el archivo \u201chola\u201d del interior de la carpeta de \u201cparticio1\u201d, el archivo no se a perdido pero al montar una partici\u00f3n simplemente no aparece, podemos hacer la comprobaci\u00f3n desmontando con umount /dev/sdb1 Creamos un nuevo archivo en el interior con la particion creada Al hacer un \u201cREBOOT\u201d se perder\u00e1 la partici\u00f3n ya que es una partici\u00f3n temporal. Definitiva Modificaremos el archivo fstab situado en /etc. /etc/fstab/ -> Sirve para crear particiones definitivas dentro del sistema operativo Reiniciamos la maquina y para comprobar que se a hecho correctamente la partici\u00f3n hacemos un ls de la carpeta donde se a creado la particion en este caso /var/particio1 y deber\u00eda estar dentro el archivo \u201cadeu\u201d que creamos anteriormente dentro de la misma partici\u00f3n. Compartici\u00f3n de carpeta Nautilus Instalamos la aplicacion nautilus Compartimos la carpeta con la nueva opci\u00f3n que nos aparecer\u00e1. Podemos comprobar que este m\u00e9todo no funciona por lo que lo haremos con un servidor SAMBA. SAMBA Instalamos el Samba con \u201csudo apt install samba\u201d Creamos la partici\u00f3n en el archivo smb.conf situado en /etc/samba/smb.conf Una vez modificado tenemos que hacer un systemctl restart a smbd y nmbd Ahora cambiamos los permisos para que todos tengan permisos sobre la carpeta particio1 y le cambiamos el grupo y el ususario propietario a nobody y nogroup Creamos el usuario platano ya que es el que colocamos al crear la particion utilizando el comando \u201cadduser\u201d Utilizamos el comando smbpasswd -a para cambiar la contrase\u00f1a de un usuario al servidor samba ahora en la MAQUINA CLIENTE (fuera de la maquina virtual) ponemos el comando \u201csmbclient -L //(IP)\u201d as\u00ed podremos ver los recursos compartidos de la IP que coloquemos Vamos a las carpetas de la MAQUINA CLIENTE y tratamos de conectarnos en la opcion de abajo a la izquierda Ponemos las credenciales del usuario Creamos una carpeta desde la MAQUINA CLIENTE en la unidad compartida Y la comprobamos desde la MAQUINA SERVIDOR (M\u00e1quina virtual) que est\u00e1 en la unidad compartida y de que la ha creado pl\u00e1tano. Quotes de disc Identificamos el disco de 2GB que hemos creado con fdisk -l Entramos dentro del fdisk (disco) y creamos la partici\u00f3n Formateamos la partici\u00f3n con mkfs.ext4 (disco+partici\u00f3n) Modificamos el archivo /etc/fstab y creamos una partici\u00f3n definitiva y le a\u00f1adimos cuotas C\u00f2pies de seguretat i automatitzaci\u00f3 de tasques Para las pruebas sera necesario crear 2 discos duros de 1 GB Teoria + Tabla comparativa Que es una copia de seguridad: Una copia de seguridad, tambi\u00e9n conocida como backup, es una duplicaci\u00f3n de datos que se realiza con el objetivo de protegerlos y garantizar su recuperaci\u00f3n en caso de p\u00e9rdida, da\u00f1o o eliminaci\u00f3n accidental. Estas copias permiten restaurar informaci\u00f3n valiosa, ya sea en entornos personales, empresariales o de sistemas cr\u00edticos. Completes: - Duplica todos los datos seleccionados. - Ventaja : Es una copia completa y f\u00e1cil de restaurar. - Inconveniente : Consume mucho tiempo y espacio. Diferenciales: Copia todos los cambios realizados desde la \u00faltima copia completa. Ventaja : Es m\u00e1s r\u00e1pida que la completa, y la restauraci\u00f3n es m\u00e1s sencilla que con incrementales. Inconveniente : Ocupa m\u00e1s espacio que la incremental con el tiempo Incrementales: Copia solo los cambios realizados desde la \u00faltima copia (completa o incremental). Ventaja : Menor uso de espacio y tiempo. Inconveniente : La restauraci\u00f3n puede ser m\u00e1s compleja, ya que depende de varias copias. En caso de perder informaci\u00f3n de alg\u00fan back-up tendr\u00edamos que coger la \u00faltima copia de seguridad completa hecha. Politica de copias de seguridad: Las pol\u00edticas de copias de seguridad son un conjunto de directrices, normas y procedimientos que una organizaci\u00f3n (o un individuo) establece para garantizar que los datos sean respaldados de manera consistente, segura y eficiente. Estas pol\u00edticas son fundamentales para proteger la informaci\u00f3n cr\u00edtica y garantizar la continuidad operativa en caso de desastres o p\u00e9rdidas de datos. Comandos cp = Copia simple no inteligente, lo copia todo sin mirar nada. Solo se puede utilizar en local. rsync = Es una copia inteligente, solo copia los archivos modificados. Tambi\u00e9n se puede utilizar entre m\u00e1quinas remotas v\u00eda SSH dd = No es un comando para hacer copias de archivos, es un comando para hacer copias de discos o particiones. No es inteligente, copia todo sin mirar. Tambi\u00e9n sirve para copiar de sector a sector. cp ls /home/hugo/Documents/ -> Comprobamos lo que hay en el interior de la carpeta ls /var/copies/ -> Comprobamos el interior de la carpeta pruebas cp -R /home/hugo/Documents/* /var/copies/ -> hacemos una copia de todo el interior de Documentos a Copias ls /var/copies* -> comprobamos el interior de copias nuevamente para comprobar que todo se a copiado bien rsync touch /home/hugo/Documents/hhhhh -> Creamos un nuevo documento en el interior de la carpeta documentos mkdir tttt -> Creamos una carpeta nueva rm -r prova2 -> Eliminamos prova2 rsync -av \u2013delete /home/hugo/Documentos/ /var/sdb1 -> Hacemos un rsync que es la copia inteligente indicando que elimine todas las carpetas que hemos eliminado en el documento dd dd if=/dev/sdb1 of=/dev/sdc1 bs=4M status=progress if=/dev/sdb1: if significa \"input file\" (archivo de entrada). En este caso, /dev/sdb1 es la partici\u00f3n o dispositivo de origen del que se copiar\u00e1n los datos. Representa una partici\u00f3n en el disco f\u00edsico /dev/sdb . of=/dev/sdc1: of significa \"output file\" (archivo de salida). En este caso, /dev/sdc1 es la partici\u00f3n o dispositivo de destino donde se escribir\u00e1n los datos. Representa una partici\u00f3n en el disco f\u00edsico /dev/sdc . bs=4M: bs significa \"block size\" (tama\u00f1o de bloque). Define el tama\u00f1o de los bloques de datos que se copiar\u00e1n de una sola vez. En este caso, el tama\u00f1o de bloque es de 4 megabytes (4M) status=progress: Este par\u00e1metro muestra el progreso del comando mientras se ejecuta. Sin este par\u00e1metro, el comando dd no muestra informaci\u00f3n durante el proceso, y parece que no est\u00e1 haciendo nada hasta que termina. md5sum /dev/sdb1 /dev/sdc1 Al tener un tama\u00f1o de 4M hay riesgo de que haya un error y a lo mejor no sale el mismo hash lo que quiere decir que no se ha copiado exactamente. Ponemos el mismo comando reduciendo el tama\u00f1o para que sea mas exacto Volvemos a sacar los hash de ambos archivos y comprobamos que tienen exactamente el mismo. Esto se aclara porque en clase dio problemas a algunos compa\u00f1eros pese a que a mi me funcionase bien. Automatizaci\u00f3n con scripts y cron y anacron Teoria Tanto cron como anacron sirven para automatizar tareas en un sistema operativo de ubuntu, anteriormente funcionaban por separado pero ahora est\u00e1n integrados los 2 juntos. \u00bfCu\u00e1ndo utilizamos cada uno? Si los ordenadores pueden estar apagados mejor anacron, porque el cron solo se ejecuta cuando el ordenador est\u00e1 encendido en cambio el anacron cuando se tenga que ejecutar una tarea y el ordenador est\u00e9 apagado cuando este se enciende comprueba si tiene alguna tarea pendiente y se ejecuta. Tambi\u00e9n utilizaremos anacron cuando sea para tareas m\u00e1s generales y de mantenimiento a nivel de sistema operativo, en cambio utilizaremos el cron cuando interesa m\u00e1s que se ejecute algo concretamente en una hora fija en una fecha determinada y para un usuario en concreto, es mejor. Utilizaremos el archivo \u201c /etc/crontab \u201d cuando queramos ejecutar algo globalmente para todos los usuarios cuando interesa un usuario espec\u00edfico ejecutaremos el comando \u201c crontab -e -u usuario \u201d dentro del directorio \u201c /etc \u201d tenemos unas carpetas predeterminadas para el cron para poner scripts que queremos que se ejecuten diariamente, mensualmente, anualmente ya est\u00e1n preparadas Estas son todas las carpetas que hay en etc del cron. PUNTO IMPORTANTE: En el anacron no funciona la variable $(whoami) por lo que tendremos que indicar el nombre del usuario Ejemplo de como hacer un back-up de la carpeta \u201c/Imagenes\u201d diariamente con un script Le damos permisos al script para que pueda ejecutarse Y comprobamos que se haya generado cuando ejecutamos el script Este Script es muy sencillo lo unico que haces acceder a la carpeta de Imagenes comprimir el contenido de la misma y colocarle el nombre de copia junto a la marca de tiempo TIMESTAMP creada en el mismo script Para automatizarlo tenemos que ir al archivo /etc/crontab y colocar la siguiente l\u00ednea. Llegada a la hora que hemos puesto en este caso del mes 15/01 a las 10:26 se tendr\u00eda que haber creado una copia en el Escritorio. Si queremos usar el \u201canacron\u201d iremos a la carpeta /etc/cron.daily y moveremos nuestro script al interior para que se ejecute cada d\u00eda una vez se inicie el ordenador. !IMPORTANTE! quitar el .sh del nombre porque sino no funcionara. Modificamos el archivo /var/spool/anacron/cron.daily ya que en el interior de este archivo se crea una marca de tiempo la cual har\u00e1 que no se ejecuten nuevamente los cron.daily hoy, borramos esta marca de tiempo para que se \u201ccrea\u201d el ordenador que todav\u00eda no se a ejecutado hoy y tenga que hacer nuevamente sus tareas planeadas en el \u201c/etc/cron.daily\u201d En este archivo tocamos la parte del anacron, a diferencia del cron este ejecutara los archivos aunque el ordenador est\u00e9 apagado, es decir se esperar\u00e1 a que el ordenador se encienda nuevamente para comprobar las tareas que le faltan por hacer y las har\u00e1. Reiniciamos el ordenador y comprobamos que se crea nuevamente una marca de tiempo y al minuto como ten\u00edamos asignado en el archivo /etc/anacrontab se ejecutara y se crear\u00e1 la copia de seguridad.","title":"Sprint2"},{"location":"Sprint2/#sprint-2","text":"","title":"Sprint 2"},{"location":"Sprint2/#gestion-de-procesos","text":"\u00bfQue es un proceso? Un proceso es una instancia de un programa en ejecuci\u00f3n en un sistema operativo. Es decir, cuando ejecutas un programa, el sistema operativo crea un proceso que representa ese programa mientras est\u00e1 funcionando.","title":"Gesti\u00f3n de procesos"},{"location":"Sprint2/#top","text":"Es un comando que se utiliza para monitorear a tiempo real los procesos que se estan ejecutando en el sistema en ese momento.","title":"TOP"},{"location":"Sprint2/#pstree","text":"La comanda pstree muestra una representaci\u00f3n en forma de \u00e1rbol de los procesos que se est\u00e1n ejecutando en un sistema basado en Unix/Linux.","title":"pstree"},{"location":"Sprint2/#ps-aux","text":"se utiliza para listar todos los procesos que se est\u00e1n ejecutando en el sistema, proporcionando informaci\u00f3n detallada sobre cada uno de ellos.","title":"ps aux"},{"location":"Sprint2/#ctrlc","text":"Ctrl + C se utiliza para interrumpir o detener un proceso en ejecuci\u00f3n en la terminal. Ejemplo: Ejecutamos un Ping hacia una IP aleatoria, en mi caso utilizare la 8.8.8.8 Para detener este proceso utilizaremos la combinacion de teclas Ctrl+C y se representara en la terminal de esta manera ^C , esto hara que se detenga el proceso y por lo tanto se dejaran de mandar Pings.","title":"Ctrl+C"},{"location":"Sprint2/#ctrlz","text":"Ctrl + Z se utiliza para suspender un proceso en ejecuci\u00f3n y enviarlo al fondo, deteni\u00e9ndolo temporalmente. Ejemplo Haremos el mismo ejemplo que en el caso anterior, le enviaremos un ping a la IP 8.8.8.8. Para suspender el proceso y enviarlo a un segundo plano haremos Ctrl+Z y se representara en la terminal de esta manera ^Z esto hara que se suspenda el proceso y se mande a un segundo plano.","title":"Ctrl+Z"},{"location":"Sprint2/#jobs","text":"El comando jobs muestra una lista de los procesos asociados a la sesi\u00f3n actual de la terminal que est\u00e1n en segundo plano, suspendidos o en ejecuci\u00f3n. Ejemplo Suspendemos un proceso para poder hacer un ejemplo Ahora ejecutamos la comanda jobs para ver los procesos suspendidos","title":"jobs"},{"location":"Sprint2/#fg","text":"El comando fg % se utiliza para reanudar un trabajo suspendido o en segundo plano y traerlo al primer plano de la terminal, permiti\u00e9ndote interactuar nuevamente con \u00e9l. Ejemplo Vamos a traer nuevamente el ping que suspendimos anteriormente y pudimos verlo con el jobs . Para volverlo a traer al primer plano haremos fg % numero_proceso en este caso el numero \"1\".","title":"fg %"},{"location":"Sprint2/#kill-9-pid","text":"El comando kill -9 PID se utiliza para forzar la terminaci\u00f3n de un proceso identificado por su PID (Process ID). Ejemplo Para ver los procesos que tenemos activos ahora mismo vamos a usar el comando ps aux Y para deter alguno de los procesos que podemos ver en pantalla utilizaremos kill -9 PID . No sale ningun tipo de mensaje pero si volvemos a hacer ps aux podremos comprobar que ya no aparecera en la lista.","title":"kill -9 PID"},{"location":"Sprint2/#gestion-de-usuarios-grupos","text":"","title":"Gesti\u00f3n de usuarios, grupos"},{"location":"Sprint2/#archivos-a-tener-en-cuenta","text":"","title":"Archivos a tener en cuenta"},{"location":"Sprint2/#-passwd","text":"Ruta: /etc/passwd Extructura: nombre:contrase\u00f1a(x):id_usuario(1xxx):grupo_principal(1xxx):nombre_completo:Direccion_Directorio Funcionalidad: Contiene la informaci\u00f3n b\u00e1sica de las cuentas de usuario del sistema.","title":"- PASSWD"},{"location":"Sprint2/#-group","text":"Ruta: /etc/group Extructura: nombre;contrase\u00f1a:identificador:(Mas usuarios si hay) Funcionalidad: Contiene la informaci\u00f3n sobre los grupos definidos en el sistema.","title":"- GROUP"},{"location":"Sprint2/#-shadow","text":"Ruta: /etc/shadow Extructura: nombre_de_usuario:contrase\u00f1a_cifrada:\u00faltimo_cambio:min:max:aviso:inactividad:expiraci\u00f3n: Funcionalidad: Almacena la informaci\u00f3n cifrada de las contrase\u00f1as de los usuarios, as\u00ed como otros par\u00e1metros relacionados con la expiraci\u00f3n y validez de las contrase\u00f1as.","title":"- SHADOW"},{"location":"Sprint2/#-gshadow","text":"Ruta: /etc/gshadow Extructura: nombre_del_grupo:contrase\u00f1a_cifrada:administradores:miembros Funcionalidad: Se utiliza para almacenar informaci\u00f3n de los grupos, incluyendo las contrase\u00f1as cifradas de los grupos y los miembros de cada grupo con permisos especiales. SKEL Todos los archivos mencionados se encuentran dentro del skel, para poder verlos tendremos que hacer un ls -la ya que todo archivo que tenga un \".\" antes de su nombre estara oculto y no se vera con un simple ls /etc/skel -> Carpetas que se crearan cuando un nuevo usuario abra la interfaz por primera vez .profile -> Este archivo se ejecuta cuando inicias sesi\u00f3n en un shell de login (por ejemplo, cuando accedes al sistema desde un terminal virtual o SSH). Modificacion -> En este caso indicamos que la carpeta de home del usuario en vez de crearse en el /home se crearan en el /var .bashrc -> Sirve para configurar cosas como alias, funciones, colores, y otras personalizaciones del shell. Modificacion -> En este caso estamos creando una modificaci\u00f3n de un comando, cuando coloquemos \"conexio\" se hara un ls -la .bash_logout -> Este archivo se ejecuta al cerrar sesi\u00f3n en un shell de login. Modificacion -> En este caso estamos haciendo que siempre que se deslogue se eliminara la carpeta de descargas de los usuarios que tengan la carpeta en /home VARIABLE: $USER -> actua \u00fanicament sobre l\u2019usuari que es deslogea.","title":"- GSHADOW"},{"location":"Sprint2/#usuarios","text":"","title":"Usuarios"},{"location":"Sprint2/#comandos-basicos","text":"","title":"Comandos Basicos"},{"location":"Sprint2/#creacion-de-usuarios","text":"Para crear usuarios tenemos 2 comandos los cuales podemos usar useradd y adduser.","title":"Creaci\u00f3n de usuarios"},{"location":"Sprint2/#useradd","text":"Es un comando m\u00e1s b\u00e1sico y de bajo nivel. Forma parte de las herramientas de gesti\u00f3n de usuarios de Linux. No realiza pasos adicionales ni configura par\u00e1metros autom\u00e1ticamente. Por ejemplo, al usar useradd, hay que especificar manualmente la creaci\u00f3n del directorio home, los grupos, la shell, y otras configuraciones si no se desea usar los valores predeterminados. Ideal para usuarios avanzados que necesitan personalizar cada aspecto de la cuenta. Creamos su home con el comando mkdir y le entregamos el propietario con el comando sudo chown . Le a\u00f1adimos una contrase\u00f1a al usuario Le asignamos el Shell predeterminado Comprobamos que se encuentre en los archivos y en la inteficie grafica:","title":"useradd:"},{"location":"Sprint2/#adduser","text":"Es un script de Perl que utiliza useradd internamente. Proporciona una interfaz m\u00e1s amigable y realiza varias configuraciones por defecto, como la creaci\u00f3n autom\u00e1tica del directorio home, la asignaci\u00f3n de un grupo por defecto, y la solicitud de una contrase\u00f1a durante el proceso. Es m\u00e1s sencillo y pr\u00e1ctico para usuarios que quieren crear cuentas de usuario sin preocuparse por especificar cada par\u00e1metro. RESULTADOS:","title":"adduser:"},{"location":"Sprint2/#eliminar-usuarios","text":"El comando deluser en sistemas Unix/Linux se utiliza para eliminar usuarios del sistema de manera sencilla. 1 - Eliminar un usuario: Si se ejecuta sin opciones adicionales, deluser elimina al usuario especificado del sistema, pero deja intactos los archivos del usuario, incluyendo su directorio home. deluser nombre_de_usuario 2 - Eliminar un usuario y su directorio home: Usando la opci\u00f3n --remove-home, deluser elimina al usuario junto con su directorio home y su contenido. deluser --remove-home hugo 3 - Eliminar un usuario y sus archivos: Con la opci\u00f3n --remove-all-files, deluser elimina todos los archivos de propiedad del usuario, independientemente de su ubicaci\u00f3n en el sistema, adem\u00e1s del directorio home. deluser --remove-all-files hugo 4 - Eliminar un usuario de un grupo: deluser tambi\u00e9n permite eliminar a un usuario de un grupo espec\u00edfico sin eliminar al usuario del sistema. deluser hugo sudo 5 - Eliminar un grupo: Tambi\u00e9n se puede usar deluser para eliminar un grupo utilizando la opci\u00f3n --group. deluser --group grupo1","title":"Eliminar Usuarios"},{"location":"Sprint2/#bloquear-usuarios","text":"usermod -L <nom> cat /etc/shadow Comprovamos que delante del password aparece un \"!\" para verificar que se a bloqueado man usermod (opcions de usermod) usermod -U <nom> Desbloquea al usuario por lo tanto desaparece el '!' del /etc/shadow","title":"Bloquear Usuarios"},{"location":"Sprint2/#otros-comandos","text":"usermod --shell /bin/bash <nom> (para cambiar el interprete de 'sh' a 'bash') mkdir <nom> (crea carpeta para un nuevo usuario) chown <nom>:<nom> <nom> (1:usuari 2:grup 3:nom carpeta) passwd <nom> (para configurar contrase\u00f1a) usermod -p <contrasenya> <nom> (contrase\u00f1a con texto plano) addgroup <nom> (crea un grupo con su id) adduser <nom> <nombre_grupo> (a\u00f1ade un usuario dentro de un grupo)","title":"Otros comandos"},{"location":"Sprint2/#gpasswd","text":"gpasswd -a <nom> <nombre_grupo> (a\u00f1ade un usuario a grup) gpasswd -A <nom> <nombre_grupo> (hace que un usuario sea admin de un grupo)","title":"GPASSWD"},{"location":"Sprint2/#usermod","text":"usermod -a -G <nomg> <nom> (a\u00f1ade un usuario a un grupo y con la '-a' no elige el usuario de otros grupos) usermod -G <nombre_grupo> <nombre> (cambia el grupo principal del usuario) groupmod -n <Nuevo_nombre_grupo> <nombre_grupo> (cambia el nombre del grupo)","title":"USERMOD"},{"location":"Sprint2/#modificaciones-crear-usuarios","text":"Los archivos que vamos a modificar en esta parte y los importantes son: /etc/login.defs -> modifica los parametros a la hora de crear usuarios en general. /etc/adduser.conf -> Modifica parametros al usar el comando adduser. /etc/default/useradd -> Modifica parametros al usar el comando useradd. /etc/skell -> Todo lo que se cree dentro de esta carpeta se copiara en las homes de cada usuario creado","title":"Modificaciones crear usuarios"},{"location":"Sprint2/#configuracion-skell","text":"En el Skell si haces un ls -la te saldran muchos archivos los cuales estan ocultos y ya explique anteriormente para que servian, en este caso lo que nos va a interesar es crear un enlace para comprovar si se crea en los nuevos usuarios.","title":"Configuracion Skell"},{"location":"Sprint2/#configuracion-logindefs","text":"Como mencione anteriormente este archivo modifica los parametros defaults a la hora de crear un usuario. En este caso los parametros que se modificaron son UID_MIN 2000 -> Esto hara que su numero de usuario sea minimo 2000 de manera default seria 1000 GID_MIN 2000 -> Esto hara que el numero de grupo sea minimo 2000 de manera default seria 1000 Tambien se modifico este apartado del mismo archivo el cual hara cambios con la contrase\u00f1a. PASS_MAX_DAYS 30 -> Esto hara que la misma contrase\u00f1a solo se podra tener durante 30 dias, despues se tendra que cambiar PASS_MIN_DAYS 5 -> Esto hara que tienen que pasar minimo 5 dias entre cambio y cambio de contrase\u00f1a PASS_WARN_AGE 10 -> Esto hara que te avise 10 dias antes de que te caduque la contrase\u00f1a.","title":"Configuraci\u00f3n login.defs"},{"location":"Sprint2/#configuracion-adduserconf","text":"Todo lo que se toque en este archivo cambiara los parametros a la hora de crear un usuario con el comando adduser . Todo lo que se ponga en este archivo prevalece sobre lo que se ponga en el archivo login.defs. En este archivo se modificaron los siguientes parametros: DHOME=/tmp -> Esto hara que las carpetas \"home\" de los usuarios no se crearan en la carpeta \"HOME\" sino en la ruta que tu le pongas en este caso en \"/tmp\" FIRST_UID=2000 -> Esto hara que su numero de usuario sea minimo 2000 de manera default seria 1000 FIRST_GID=2000 -> Esto hara que el numero de grupo sea minimo 2000 de manera default seria 1000","title":"Configuraci\u00f3n adduser.conf"},{"location":"Sprint2/#comprobaciones","text":"","title":"Comprobaciones"},{"location":"Sprint2/#configuracion-useradd","text":"Todo lo que se toque en este archivo cambiara los parametros a la hora de crear un usuario con el comando useradd En este archivo viene todo siempre completamente comentado ya que nunca te pide especificaciones a la hora de crear un usuario ya que lo tienes que hacer manualmente. Lo unico que se descomento es el paraemtro: - SHELL=/bin/bash -> Esto determina el SHELL de cada usuario creado con useradd en este caso seria /bin/bash. Igualmente las modificaciones que se seguirian en la creaci\u00f3n de un usuario con useradd serian las indicadas en el archivo login.defs","title":"Configuraci\u00f3n useradd"},{"location":"Sprint2/#permisos","text":"","title":"Permisos"},{"location":"Sprint2/#taula-permisos-decimal","text":"","title":"Taula Permisos Decimal"},{"location":"Sprint2/#permisos-normals","text":"PRUEBAS Para hacer las pruebas creamos un grupo y usuarios, a\u00f1adimos a 2 de los usuarios creados dentro del grupo en este caso se llama \u201cparchis\u201d Metemos 2 usuarios al grupo: chgrp Creamos la carpeta \u201cprova\u201d con un archivo en el interior llamado \u201chola\u201d y le modificamos los permisos a\u00f1adiendo al grupo parchis. A\u00f1adimos al grupo como propietario: El comando que utilizamos es chgrp Estructura: chgrp [Parametre] [Grup] [Directori/archiu] En nuestro caso utilizamos \u201c-R\u201d esto hara que sea recursivo, es decir que todo lo que haya en el interior de la carpeta tambien se le aplicaran los permisos. CHMOD Ahora cambiamos los permisos tambien para el resto de grupos/usuarios/ Orden: Usuario-Grupo-Others Estructura: chmod [Par\u00e1metro] [Permisos que quieres otorgar] [Carpeta] En nuestro caso utilizamos \u201c-R\u201d esto har\u00e1 que sea recursivo, es decir que todo lo que haya en el interior de la carpeta tambi\u00e9n se le aplicar\u00e1n los permisos. PRUEBAS GROC (Permisos Ususari) Podemos comprobar que con la configuraci\u00f3n que le hemos dado GROC al tener permisos de usuario puede hacer lo que sea dentro de la carpeta. PRUEBAS VERDE (Permisos Grup) Podemos ver que \u201cVerd\u201d ya que tiene los permisos de grupo \u00fanicamente podr\u00e1 entrar y ver el contenido del interior del directorio, pero no podr\u00e1 modificar nada de su interior ni ver el contenido de los archivos del interior. PRUEBA ROIG (permisos Others) Podemos ver que \u201cRoig\u201d ya que tiene los permisos de Others no podr\u00e1 ni acceder ni modificar el interior del directorio,","title":"Permisos Normals"},{"location":"Sprint2/#permisos-especials","text":"Para comprobar los permisos especiales utilizaremos una carpeta llamada Compartida, queremos que en esta carpeta todos los usuarios dentro del grupo de parch\u00eds puedan subir sus archivos y ver el interior pero no pueda eliminar los archivos del resto. Creamos la carpeta Sticky: Utilizaremos el chmod, le a\u00f1adiremos unos permisos normales \u201c757\u201d pero le colocaremos un \u201c1\u201d delante, esto hace que se le apliquen todos los permisos al grupo de Others pero no puedan eliminar documentos de otros usuarios. Comprobaciones: Creo 2 carpetas con el usuario \u201cRoig\u201d para comprobar que puede crear archivos en el interior de la carpeta, seguidamente compruebo que el puede eliminar sus propios archivos. Ahora cambio al usuario \u201cBlau\u201d y compruebo que puede crear sus archivos y que no puede eliminar los de Roig.","title":"Permisos Especials"},{"location":"Sprint2/#llista-de-control-dacces","text":"Para crear la lisa de controles utilizaremos el comando: getfacl [Nombre archivo] El comando getfacl en Linux se utiliza para mostrar las Listas de Control de Acceso (ACL) de archivos y directorios. setfacl Este comando nos servir\u00e1 para hacer excepciones sobre carpetas a usuarios en concreto o grupos en concreto Estructura: setfacl -m [user/group]:[usuari/grup]:[permisos] (nom carpeta) Comprobaciones Otros parametros setfacl -b (archivo) \u2192 Sirve para eliminar todas las excepciones que esten en un archivo/directorio setfacl -x (usuario) (directorio) \u2192 Sirve para eliminar las excepciones de 1 usuario en concreto sobre 1 directorio.","title":"Llista de control d'acces"},{"location":"Sprint2/#permisos-umask","text":"umask -> comprobar la m\u00e1scara que tienes La mascara 022 = m\u00e1scara del root umask (numero) -> Te cambia la m\u00e1scara al numero que tu le asigne Dependiendo el n\u00famero de mascaras indicar\u00e1 los permisos que se le otorgaran a los directorios y archivos. Para calcular la mascara: Para calcular los permisos que dar\u00e1 una m\u00e1scara hay que hacer la operaci\u00f3n ahn con n\u00fameros binarios entre los permisos que se otorgan de manera default en el SO en el caso de los directorios (777) y en el caso de los archivos (640), seguidamente tienes que pasar a binario la m\u00e1scara que tengas en nuestro caso 002 despues hacerla a la inversa es decir los 0->1 y 1->0, despu\u00e9s al realizar el c\u00e1lculo ahn hay que volver a invertir la m\u00e1scara que nos dar\u00e1 es decir los 0->1 y 1->0, seguidamente pasamos nuevamente de binario a decimal y esa sera la m\u00e1scara que tendremos que usar. Modificar umask para nuevos usuarios: Usaremos el archivo /etc/login.defs Modificaremos el par\u00e1metro UMASK -> 022 al n\u00famero que nosotros queramos. Creamos el nuevo usuario para comprobar que se a cambiado:","title":"Permisos umask"},{"location":"Sprint2/#sistemes-de-fitxers-i-particions","text":"","title":"Sistemes de fitxers i particions"},{"location":"Sprint2/#comandes","text":"fdisk -l -> Da informaci\u00f3n sobre los discos del sistema operativo. tune2fs -l (partici\u00f3) -> Sabremos la mida del Block que tiene servida la partici\u00f3n. df -T -> Sirve para ver todas las particiones que tenemos y el sistema de archivos y mas informaci\u00f3n. du -sh (archivo) -> Sirve para obtener informaci\u00f3n sobre el tama\u00f1o de un archivo o directorio en un formato m\u00e1s f\u00e1cil de leer para las personas. e4defrag -c (partici\u00f3n) -> Es un desfragmentador de Linux, con el par\u00e1metro \u201c-c\u201d \u00fanicamente dar\u00e1 informaci\u00f3n necesaria para saber si tenemos que desfragmentar el disco. e4defrag (partici\u00f3n) -> Sirve para comenzar a desfragmentar","title":"COMANDES:"},{"location":"Sprint2/#estructura-de-la-informacio","text":"","title":"Estructura de la informaci\u00f3:"},{"location":"Sprint2/#mida-sector-y-block","text":"El sector es la unidad m\u00ednima f\u00edsica donde se guardan los datos y por defecto son 512 bytes y el sistema operativa no trabaja en sectores trabaja en blocks y los blocks es la unidad m\u00ednima l\u00f3gica donde se guardan los datos por defecto. El tama\u00f1o del sector no se puede cambiar viene definida de f\u00e1brica, pero el tama\u00f1o del block si que se puede cambiar cuando formateamos la partici\u00f3n.","title":"Mida sector y block:"},{"location":"Sprint2/#fragmentacio-interna","text":"La fragmentaci\u00f3n interna es toda esa parte desaprovechada de los blocks porque no se acaban de llenar. La fragmentaci\u00f3n interna se puede solucionar disminuyendo o aumentando la medida del block pero siempre hay que tener en cuenta que bajar\u00e1 el rendimiento ya que los archivos estar\u00e1n m\u00e1s fraccionados","title":"Fragmentaci\u00f3 interna:"},{"location":"Sprint2/#fragmentacio-externa","text":"La fragmentaci\u00f3n externa cunado baja el rendimiento del sistema porque los archivos no se guardan en bloques continuos en la memoria, lo arreglamos con la desfragmentaci\u00f3n.","title":"Fragmentaci\u00f3 externa:"},{"location":"Sprint2/#creacion-de-particiones-y-formatear","text":"","title":"Creaci\u00f3n de particiones y formatear"},{"location":"Sprint2/#tipo-de-formateo","text":"Bajo nivel (lento) Realiza una operaci\u00f3n de bajo nivel en el disco que organiza f\u00edsicamente los sectores y las pistas. B\u00e1sicamente prepara el medio de almacenamiento (generalmente discos magn\u00e9ticos) para poder guardar datos desde cero. Se asignan los sectores f\u00edsicos del disco y se marcan las \u00e1reas defectuosas Entre Medio Elimina toda la informaci\u00f3n l\u00f3gica del disco, crea un sistema de archivos nuevo (FAT, NTFS, ext4, etc.) y revisa el disco en busca de errores (con un escaneo superficial). Este proceso sobrescribe los datos existentes y hace que parezca un disco nuevo a nivel l\u00f3gico. Rapido Borra solo la tabla de asignaci\u00f3n de archivos (o su equivalente seg\u00fan el sistema de archivos), lo que significa que los archivos existentes no se eliminan f\u00edsicamente, pero el sistema operativo \u201cpiensa\u201d que el espacio est\u00e1 vac\u00edo y puede escribir sobre \u00e9l. Es un proceso mucho m\u00e1s r\u00e1pido porque no escanea ni sobrescribe sectores.","title":"Tipo de formateo"},{"location":"Sprint2/#practica","text":"Creamos un nuevo disco en el Virtual box para poder trabajar con el para hacer la practica. Entramos dentro de la maquina virtual e introducimos el siguiente comando para meternos dentro del disco Colocaremos n para crear particiones dentro del disco seleccionado. Nos da como recomendaci\u00f3n que sea predeterminada y con valor 1 asi que presionamos intro. Le indicamos el tama\u00f1o de la partici\u00f3n y salimos Una vez acabamos colocamos W para salir","title":"Practica"},{"location":"Sprint2/#comprobacion","text":"Colocamos fdisk -l para comprobar la lista de los discos y vemos la particion.","title":"Comprobacion"},{"location":"Sprint2/#formatear","text":"Formateamos la particion y modificamos el tama\u00f1o del bloque mkfs.ext4 -b (modificacion del tama\u00f1o) (disco) Comprobaci\u00f3n del formateo","title":"Formatear"},{"location":"Sprint2/#montaje-particiones","text":"","title":"Montaje particiones"},{"location":"Sprint2/#temporal","text":"Primero creamos una carpeta en /var/ y dentro le ponemos un archivo en este caso un txt. mount -t (extension) (disco) (carpeta para montar la partici\u00f3n) Una vez montada la partici\u00f3n aparecera Podemos comprobar que desaparece el archivo \u201chola\u201d del interior de la carpeta de \u201cparticio1\u201d, el archivo no se a perdido pero al montar una partici\u00f3n simplemente no aparece, podemos hacer la comprobaci\u00f3n desmontando con umount /dev/sdb1 Creamos un nuevo archivo en el interior con la particion creada Al hacer un \u201cREBOOT\u201d se perder\u00e1 la partici\u00f3n ya que es una partici\u00f3n temporal.","title":"Temporal"},{"location":"Sprint2/#definitiva","text":"Modificaremos el archivo fstab situado en /etc. /etc/fstab/ -> Sirve para crear particiones definitivas dentro del sistema operativo Reiniciamos la maquina y para comprobar que se a hecho correctamente la partici\u00f3n hacemos un ls de la carpeta donde se a creado la particion en este caso /var/particio1 y deber\u00eda estar dentro el archivo \u201cadeu\u201d que creamos anteriormente dentro de la misma partici\u00f3n.","title":"Definitiva"},{"location":"Sprint2/#comparticion-de-carpeta","text":"","title":"Compartici\u00f3n de carpeta"},{"location":"Sprint2/#nautilus","text":"Instalamos la aplicacion nautilus Compartimos la carpeta con la nueva opci\u00f3n que nos aparecer\u00e1. Podemos comprobar que este m\u00e9todo no funciona por lo que lo haremos con un servidor SAMBA.","title":"Nautilus"},{"location":"Sprint2/#samba","text":"Instalamos el Samba con \u201csudo apt install samba\u201d Creamos la partici\u00f3n en el archivo smb.conf situado en /etc/samba/smb.conf Una vez modificado tenemos que hacer un systemctl restart a smbd y nmbd Ahora cambiamos los permisos para que todos tengan permisos sobre la carpeta particio1 y le cambiamos el grupo y el ususario propietario a nobody y nogroup Creamos el usuario platano ya que es el que colocamos al crear la particion utilizando el comando \u201cadduser\u201d Utilizamos el comando smbpasswd -a para cambiar la contrase\u00f1a de un usuario al servidor samba ahora en la MAQUINA CLIENTE (fuera de la maquina virtual) ponemos el comando \u201csmbclient -L //(IP)\u201d as\u00ed podremos ver los recursos compartidos de la IP que coloquemos Vamos a las carpetas de la MAQUINA CLIENTE y tratamos de conectarnos en la opcion de abajo a la izquierda Ponemos las credenciales del usuario Creamos una carpeta desde la MAQUINA CLIENTE en la unidad compartida Y la comprobamos desde la MAQUINA SERVIDOR (M\u00e1quina virtual) que est\u00e1 en la unidad compartida y de que la ha creado pl\u00e1tano.","title":"SAMBA"},{"location":"Sprint2/#quotes-de-disc","text":"Identificamos el disco de 2GB que hemos creado con fdisk -l Entramos dentro del fdisk (disco) y creamos la partici\u00f3n Formateamos la partici\u00f3n con mkfs.ext4 (disco+partici\u00f3n) Modificamos el archivo /etc/fstab y creamos una partici\u00f3n definitiva y le a\u00f1adimos cuotas","title":"Quotes de disc"},{"location":"Sprint2/#copies-de-seguretat-i-automatitzacio-de-tasques","text":"Para las pruebas sera necesario crear 2 discos duros de 1 GB","title":"C\u00f2pies de seguretat i automatitzaci\u00f3 de tasques"},{"location":"Sprint2/#teoria-tabla-comparativa","text":"Que es una copia de seguridad: Una copia de seguridad, tambi\u00e9n conocida como backup, es una duplicaci\u00f3n de datos que se realiza con el objetivo de protegerlos y garantizar su recuperaci\u00f3n en caso de p\u00e9rdida, da\u00f1o o eliminaci\u00f3n accidental. Estas copias permiten restaurar informaci\u00f3n valiosa, ya sea en entornos personales, empresariales o de sistemas cr\u00edticos. Completes: - Duplica todos los datos seleccionados. - Ventaja : Es una copia completa y f\u00e1cil de restaurar. - Inconveniente : Consume mucho tiempo y espacio. Diferenciales: Copia todos los cambios realizados desde la \u00faltima copia completa. Ventaja : Es m\u00e1s r\u00e1pida que la completa, y la restauraci\u00f3n es m\u00e1s sencilla que con incrementales. Inconveniente : Ocupa m\u00e1s espacio que la incremental con el tiempo Incrementales: Copia solo los cambios realizados desde la \u00faltima copia (completa o incremental). Ventaja : Menor uso de espacio y tiempo. Inconveniente : La restauraci\u00f3n puede ser m\u00e1s compleja, ya que depende de varias copias. En caso de perder informaci\u00f3n de alg\u00fan back-up tendr\u00edamos que coger la \u00faltima copia de seguridad completa hecha. Politica de copias de seguridad: Las pol\u00edticas de copias de seguridad son un conjunto de directrices, normas y procedimientos que una organizaci\u00f3n (o un individuo) establece para garantizar que los datos sean respaldados de manera consistente, segura y eficiente. Estas pol\u00edticas son fundamentales para proteger la informaci\u00f3n cr\u00edtica y garantizar la continuidad operativa en caso de desastres o p\u00e9rdidas de datos.","title":"Teoria + Tabla comparativa"},{"location":"Sprint2/#comandos","text":"cp = Copia simple no inteligente, lo copia todo sin mirar nada. Solo se puede utilizar en local. rsync = Es una copia inteligente, solo copia los archivos modificados. Tambi\u00e9n se puede utilizar entre m\u00e1quinas remotas v\u00eda SSH dd = No es un comando para hacer copias de archivos, es un comando para hacer copias de discos o particiones. No es inteligente, copia todo sin mirar. Tambi\u00e9n sirve para copiar de sector a sector.","title":"Comandos"},{"location":"Sprint2/#cp","text":"ls /home/hugo/Documents/ -> Comprobamos lo que hay en el interior de la carpeta ls /var/copies/ -> Comprobamos el interior de la carpeta pruebas cp -R /home/hugo/Documents/* /var/copies/ -> hacemos una copia de todo el interior de Documentos a Copias ls /var/copies* -> comprobamos el interior de copias nuevamente para comprobar que todo se a copiado bien","title":"cp"},{"location":"Sprint2/#rsync","text":"touch /home/hugo/Documents/hhhhh -> Creamos un nuevo documento en el interior de la carpeta documentos mkdir tttt -> Creamos una carpeta nueva rm -r prova2 -> Eliminamos prova2 rsync -av \u2013delete /home/hugo/Documentos/ /var/sdb1 -> Hacemos un rsync que es la copia inteligente indicando que elimine todas las carpetas que hemos eliminado en el documento","title":"rsync"},{"location":"Sprint2/#dd","text":"dd if=/dev/sdb1 of=/dev/sdc1 bs=4M status=progress if=/dev/sdb1: if significa \"input file\" (archivo de entrada). En este caso, /dev/sdb1 es la partici\u00f3n o dispositivo de origen del que se copiar\u00e1n los datos. Representa una partici\u00f3n en el disco f\u00edsico /dev/sdb . of=/dev/sdc1: of significa \"output file\" (archivo de salida). En este caso, /dev/sdc1 es la partici\u00f3n o dispositivo de destino donde se escribir\u00e1n los datos. Representa una partici\u00f3n en el disco f\u00edsico /dev/sdc . bs=4M: bs significa \"block size\" (tama\u00f1o de bloque). Define el tama\u00f1o de los bloques de datos que se copiar\u00e1n de una sola vez. En este caso, el tama\u00f1o de bloque es de 4 megabytes (4M) status=progress: Este par\u00e1metro muestra el progreso del comando mientras se ejecuta. Sin este par\u00e1metro, el comando dd no muestra informaci\u00f3n durante el proceso, y parece que no est\u00e1 haciendo nada hasta que termina. md5sum /dev/sdb1 /dev/sdc1 Al tener un tama\u00f1o de 4M hay riesgo de que haya un error y a lo mejor no sale el mismo hash lo que quiere decir que no se ha copiado exactamente. Ponemos el mismo comando reduciendo el tama\u00f1o para que sea mas exacto Volvemos a sacar los hash de ambos archivos y comprobamos que tienen exactamente el mismo. Esto se aclara porque en clase dio problemas a algunos compa\u00f1eros pese a que a mi me funcionase bien.","title":"dd"},{"location":"Sprint2/#automatizacion-con-scripts-y-cron-y-anacron","text":"","title":"Automatizaci\u00f3n con scripts y cron y anacron"},{"location":"Sprint2/#teoria","text":"Tanto cron como anacron sirven para automatizar tareas en un sistema operativo de ubuntu, anteriormente funcionaban por separado pero ahora est\u00e1n integrados los 2 juntos. \u00bfCu\u00e1ndo utilizamos cada uno? Si los ordenadores pueden estar apagados mejor anacron, porque el cron solo se ejecuta cuando el ordenador est\u00e1 encendido en cambio el anacron cuando se tenga que ejecutar una tarea y el ordenador est\u00e9 apagado cuando este se enciende comprueba si tiene alguna tarea pendiente y se ejecuta. Tambi\u00e9n utilizaremos anacron cuando sea para tareas m\u00e1s generales y de mantenimiento a nivel de sistema operativo, en cambio utilizaremos el cron cuando interesa m\u00e1s que se ejecute algo concretamente en una hora fija en una fecha determinada y para un usuario en concreto, es mejor. Utilizaremos el archivo \u201c /etc/crontab \u201d cuando queramos ejecutar algo globalmente para todos los usuarios cuando interesa un usuario espec\u00edfico ejecutaremos el comando \u201c crontab -e -u usuario \u201d dentro del directorio \u201c /etc \u201d tenemos unas carpetas predeterminadas para el cron para poner scripts que queremos que se ejecuten diariamente, mensualmente, anualmente ya est\u00e1n preparadas Estas son todas las carpetas que hay en etc del cron. PUNTO IMPORTANTE: En el anacron no funciona la variable $(whoami) por lo que tendremos que indicar el nombre del usuario Ejemplo de como hacer un back-up de la carpeta \u201c/Imagenes\u201d diariamente con un script Le damos permisos al script para que pueda ejecutarse Y comprobamos que se haya generado cuando ejecutamos el script Este Script es muy sencillo lo unico que haces acceder a la carpeta de Imagenes comprimir el contenido de la misma y colocarle el nombre de copia junto a la marca de tiempo TIMESTAMP creada en el mismo script Para automatizarlo tenemos que ir al archivo /etc/crontab y colocar la siguiente l\u00ednea. Llegada a la hora que hemos puesto en este caso del mes 15/01 a las 10:26 se tendr\u00eda que haber creado una copia en el Escritorio. Si queremos usar el \u201canacron\u201d iremos a la carpeta /etc/cron.daily y moveremos nuestro script al interior para que se ejecute cada d\u00eda una vez se inicie el ordenador. !IMPORTANTE! quitar el .sh del nombre porque sino no funcionara. Modificamos el archivo /var/spool/anacron/cron.daily ya que en el interior de este archivo se crea una marca de tiempo la cual har\u00e1 que no se ejecuten nuevamente los cron.daily hoy, borramos esta marca de tiempo para que se \u201ccrea\u201d el ordenador que todav\u00eda no se a ejecutado hoy y tenga que hacer nuevamente sus tareas planeadas en el \u201c/etc/cron.daily\u201d En este archivo tocamos la parte del anacron, a diferencia del cron este ejecutara los archivos aunque el ordenador est\u00e9 apagado, es decir se esperar\u00e1 a que el ordenador se encienda nuevamente para comprobar las tareas que le faltan por hacer y las har\u00e1. Reiniciamos el ordenador y comprobamos que se crea nuevamente una marca de tiempo y al minuto como ten\u00edamos asignado en el archivo /etc/anacrontab se ejecutara y se crear\u00e1 la copia de seguridad.","title":"Teoria"},{"location":"Sprint3/","text":"Sprint 3 Instalacion dominio LDAP Utilizaremos \u201cxarxa NAT\u201d para que nuestra IP sea fijo independientemente de mi ubicacion. La colocamos est\u00e1tica para corroborar que no cambiara. Comprobamos la IP para ver que realmente sigue todo igual Le hacemos un ping a 8.8.8.8 para comprobar que tenemos acceso a internet. Comprobamos el hostname de nuestro equipo con el archivo /etc/hostname A\u00f1adimos un host nuevo para el dominio en el archivo /etc/hosts y en caso de haber modificado el hostname lo cambiamos donde sal\u00eda el antiguo Despu\u00e9s de este paso reiniciamos la m\u00e1quina utilizando reboot para que se aplique todo correctamente. Para comprobar que todo se a aplicado correctamente comprobamos que sale el nuevo hostname. Instalamos los paquetes slapd (Dominio) y el paquete ldap-utils (comandos para modificar el dominio). A\u00f1adimos la contrase\u00f1a. Confirmamos la contrase\u00f1a nuevamente. Comprobamos con el comando slapcat que se nos han creado los objetos basicos. Para crear el dominio b\u00e1sico (esquema) con el nombre de la organizaci\u00f3n y usuario admin tenemos 2 opciones, podemos ejecutar los archivos que nos hemos descargado del moodle o podremos utilizar el comando dpkg-reconfigure slapd . Colocaremos el nombre del dominio que tiene que ser el mismo que colocamos en etc/hosts . Colocamos el nombre de la organizaci\u00f3n, puede ser diferente. Nos pide configurar nuevamente la contrase\u00f1a. Repetimos nuevamente la contrase\u00f1a. Le damos que si a las dos ultimas opciones que nos salen. Ahora si volvemos a hacer el comando slapcat veremos que los objetos saldr\u00e1n modificados con lo que hemos colocado en la anterior configuraci\u00f3n. Modificamos el archivo uo.ldif que nos hemos descargado y lo configuramos con el dominio que configuramos anteriormente. Ahora se har\u00e1 lo mismo con el apartado de \u201cgrupos\u201d en el archivo grup.ldif , tambien modificamos en caso de que se haya cambiado el nombre de unidad organizativa al correspondiente y creamos el primer miembro del grupo en este caso \u201calu1\u201d y en el apartado \u201ccn=\u201d le damos nombre al grupo que estamos creando en este caso alumnes. Ahora hacemos lo mismo pero con el archivo de los usuarios usu.ldif , en este caso \u00fanicamente modificamos el apartado del dominio, el resto es para crear el usuario y los par\u00e1metros del mismo. IMPORTANTE! El nombre de todos los archivos que se acaba de modificar no es importante, lo que es importante es que su extensi\u00f3n siempre sea .ldif Aqui subimos con el comando ldapadd -c -x -D \u201ccn=admin,dc=gallardo,dc=com\u201d -W -f (archivo) los archivos .ldif que hemos modificado en la configuracion Ahora si hacemos un slapcat saldra toda la configuracion nueva subida Gestion del dominio Comprobamos que tenemos completamente vac\u00eda la base de datos antes de comenzar con la pr\u00e1ctica usando slapcat . Importamos la nueva base de datos del nuevo documento .ldif con el comando ldapadd -x -D \u201ccn=admin,dc=gallardo,dc=com\u201d -W -f dades.ldif . Haremos la prueba para eliminar uno de los usuarios que tenemos dentro utilizare un documento para eliminarlo, una vez el documento este creado utilizare el comando ldapmodify -x -D \u201ccn=admin,dc=gallardo,dc=com\u201d -W -f uo.ldif . Me gusta utilizar m\u00e1s este m\u00e9todo ya que te dice al 100% si se ha eliminado en el mismo comando, con el otro comando no te dice absolutamente nada y tienes que ir a comprobarlo. Pero tambien se podria utilizar ldapdelete -x -D \u201ccn=admin,dc=gallardo,dc=com\u201d -W \u201cuid=trigden,ou=People,dc=gallardo,dc=com para eliminar. Si queremos modificar o a\u00f1adir algun apartado de algun usuario que tengamos tendremos que utilizar el mismo comando de ldapmodify pero tendremos que cambiar el archivo de texto. Ahora para ejecutar la modificacion tendremos que poner el comando con sudo en la terminal ldapmodify -x -D \"cn=admin,dc=gallardo,dc=com\" -W -f nombre_del_archivo . Ahora podremo eliminar tambien este mismo atributo que hemos a\u00f1adido cambiando la parte final de \"add\" a \"delete\" Entornos Graficos Empezamos buscando apache directoy en google que es lo que utilizare como entorno grafico. Instalamos el paquete default-jre para que nos deje ejecutar el archivo. Ahora podremos ejecutar lo que hemos instalado de google Vamos a poner una nueva conexion en LDAP Apache Directory Configuramos los apartados que nos pida Una vez acabamos la configuracion que nos pide podremos ver como ya estamos dentro de nuestra conexion LDAP. Podemos comprobar que si abrimos los desplegables saldran los usuarios que tenemos nosotros ya creados etc... Vamos a crear un nuevo usuario para poder comprobar que funciona todo coorectamente asi que le daremos click derecho a la barra de la izquierda y seleccionaremos New Entry A\u00f1adimos un nuevo usuario Comenzamos a llenar la configuracion del usuario Unir equipos al dominio Comprobaciones Previas: Tenemos que comprobar que est\u00e1n en la misma red tanto cliente como servidor ya que sino todo lo que hagamos no servir\u00e1 de absolutamente nada. Hacemos un \u201cip a\u201d para comprobar la IP de la maquina cliente y comprobamos que este en el mismo rango que el servidor. IP CLIENTE IP SERVIDOR En mi caso la IP se duplica, cosa que no iba a funcionar, para solucionarlo la he puesto de manera manual en el cliente. Una vez las tengamos correctas comprobamos con un PING de cliente -> servidor y de servidor -> cliente para ver que si tenemos conectividad CLIENTE -> SERVIDOR SERVIDOR -> CLIENTE Tendremos que instalar estos 3 paquetes (libnss-ldap | libpam-ldap | nscd) En primer paso haremos un apt update para actualizar repositorios, despu\u00e9s utilizaremos el comando apt install libnss-ldap libpam-ldap nscd Comenzar\u00e1 un asistente para instalar los paquetes que acabamos de mencionar, tendremos que darle al ESC ignorando la configuraci\u00f3n inicial y colocaremos el comando dpkg-reconfigure ldap-auth-config para comenzar con la instalaci\u00f3n desde 0 ya que haciendolo asi nos saldran mas opciones que de manera default. Le damos a que si ya que queremos reconfigurarlo todo desde cero En este primer paso tendremos que corregir lo que sale predeterminado ldapi:/// y tendremos que colocar lo siguiente ldap://IP_Server . Cambiamos las opciones del dominio y colocamos en el servidor Escogemos la version n\u00ba3 Le damos a que SI a las dos siguientes opciones Colocamos mas configuraciones que ya se hizo previamente en el dominio del servidor del usuario con privilegios Elegimos el sistema de encriptaci\u00f3n MD5 Modificamos este archivo para que cuando vaya a buscar un archivo no pase por los archivos ya que esta en el servidor. ANTES: DESPUES: Servidor SAMBA Introduccion SAMBA \u00bfQu\u00e9 es SAMBA? Samba es una implementaci\u00f3n libre del protocolo de archivos compartidos de Microsoft Windows (SMB/CIFS) para sistemas Unix y Linux. Permite que los sistemas Unix y Linux act\u00faen como servidores de archivos e impresoras en redes mixtas, facilitando la interoperabilidad entre sistemas operativos diferentes. Con Samba, los usuarios pueden compartir archivos, impresoras y otros recursos en una red de manera transparente, como si estuvieran utilizando un servidor Windows. Instalacion y configuracion Server Para comenzar con la instalaci\u00f3n de samba instalaremos el paquete principal \u201csamba\u201d con el comando apt install samba Para iniciar con la prueba de que el servidor vaya a funcionar correctamente para compartir una carpeta tendremos que crear la carpeta en este caso \u201cproves\u201d, cambiaremos los permisos de esa carpeta con chmod -R 777 proves y le cambiaremos el propietario con chown nobody:nogroup , tambi\u00e9n en el interior crearemos un archivo de texto llamado hola. Uno de los archivos a tener en cuenta que de momento no tocaremos pero se tiene que saber es el archivo smb.conf situado en la carpeta /etc/samba/smb.conf , en este caso lo \u00fanico que a\u00f1adiremos es un nuevo repositorio compartido. \u00bfQue se puede hacer con smb.conf? El archivo smb.conf es la configuraci\u00f3n principal de Samba, y controla c\u00f3mo se comporta el servidor SMB. Se encuentra normalmente en /etc/samba/smb.conf (en Linux) y permite definir qu\u00e9 carpetas se comparten, qu\u00e9 permisos tienen los usuarios, la autenticaci\u00f3n y otras opciones avanzadas. Ahora reiniciamos los dos servicios para que se apliquen correctamente los cambios Ahora crearemos usuarios para que puedan acceder al servidor samba pero que no sean logeables en el equipo. Crearemos tambi\u00e9n el usuario Roig y Groc para poder hacer pruebas a\u00f1adiendoles al grupo colors. Tambi\u00e9n crearemos el grup \u201ccolors\u201d y a\u00f1adiremos a Roig y Groc Hacemos la comprobaci\u00f3n para que se corrobore que est\u00e1 todo creado correctamente. Ahora le a\u00f1adimos una contrase\u00f1a a los usuarios en samba para poder usarlos. De esta manera los a\u00f1adimos al servicio de SAMBA Instalaci\u00f3n y pruebas cliente Para empezar a trabajar con el ciente instalamos el paquete \"smbclient\" con el comando apt install smbclient Para poder conectarse abrimos una pesta\u00f1a de archivos -> Otras ubicaciones y a\u00f1adimos \u201csmb://IP/Repositorio\u201d Al conectarnos como anonimo no nos tendria que dejar escribir, vamos a hacer la comprobacion. No nos ha dejado as\u00ed que haremos otra prueba cambiando los par\u00e1metros del servidor Reiniciamos los servicios para que se apliquen los cambios. Ahora si nos dejara crear carpetas en el interior de la carpeta de samba desde el cliente. Comprobamos desde el servidor que se vea el interior de la carpeta samba actualizado Ahora haremos la misma prueba pero entrando con un usuario Comprobamos que tiene permisos como indicamos en los par\u00e1metros de smb.conf Y comprobamos qui\u00e9n es el propietario de la carpeta desde el servidor. Ahora haremos la misma comprobaci\u00f3n desde uno de los usuarios que no tiene permisos. Comprobamos que no se puede crear una carpeta porque no tiene permisos. Ahora haremos la misma comprobaci\u00f3n con el usuario Roig y en teor\u00eda no nos tendr\u00eda que dejar ni entrar. Ahora nos devolvera al apartado de usuario porque no funcionara Servidor NFS \u00bfQue es NFS? NFS (Network File System) es un protocolo de sistema de archivos distribuido que permite a los dispositivos compartir archivos y directorios a trav\u00e9s de una red, como si estuvieran en el mismo sistema. Fue desarrollado por Sun Microsystems en los a\u00f1os 80 y es ampliamente utilizado en entornos UNIX y Linux. \u00bfEn que es diferente de SAMBA? Samba y NFS tienen un prop\u00f3sito similar (compartir archivos en red), pero difieren en su funcionamiento y compatibilidad: Instalaci\u00f3n parte servidor Hacemos un apt update para que se actualicen todos los directorios para instalar los programas con la ultima version: Instalamos el paquete del NFS: Comprobamos el status del nfs para comprobar que se a instalado correctamente con el comando systemctl status nfs-server Una vez hecho esto el servidor ya est\u00e1 preparado para utilizar el servicio nfs Instalaci\u00f3n parte cliente ubuntu Hacemos un update para actualizar los repositorios nuevamente Instalamos el nfs-common y rpcbind con el comando apt install nfs-common rpcbind Instalaci\u00f3n parte cliente windows Para la parte de Windows abrimos el panel de control Le damos a la opcion de Programes y caracteristiques Y en la parte de la izquierda le damos a la opci\u00f3n de \u201cActiva o desactiva les caract\u00e9ristiques de windows\u201d, en esta opci\u00f3n buscamos la opci\u00f3n de Servicio NFS y activamos ambas opciones expandiendo la carpeta. Compartici\u00f3n carpeta al server y pruebas Creamos la carpeta que vayamos a compartir Le quitamos de ning\u00fan grupo a la carpeta y le a\u00f1adimos permisos a todos los usuarios Para compartir la carpeta tendremos que ir al documento /etc/exports y a\u00f1adir la siguiente linea: Para que funcione correctamente reiniciamos el servicio: Ahora creamos un fichero de texto dentro de la carpeta para comprobar que se ve en los clientes y verdaderamente se ha compartido. Para comprobar los permisos del cliente Windows probamos a crear algo. Ahora vamos al servidor para comprobar que se a creado correctamente y miramos el usuario. Creamos una carpeta en /mnt llamada nfs que es donde montaremos el punto de montaje con mkdir nfs . Creamos un punto de montaje de la carpeta compartida en el cliente de ubuntu. Creamos y comprobamos el interior de la carpeta para ver que realmente si que funciona Lo comprobamos desde el servidor Perfil Movil (Ubuntu LDAP) \u00bfQue es un Perfil Movil? Un perfil m\u00f3vil es un tipo de perfil de usuario que se almacena en un servidor central y se carga en cualquier equipo al que el usuario inicie sesi\u00f3n. Esto permite que los usuarios tengan un entorno de trabajo consistente y sus configuraciones personales disponibles en cualquier equipo de la red. Creamos en la raiz / la carpeta perfils con mkdir perfils Al ser una carpeta compartida para tener los perfiles en cualquier ordenador tendremos que modificar /etc/exports para compartirla. Reiniciamos el servicio nuevamente para que funcione correctamente Cuando vayamos a crear el nuevo usuario dentro del servidor tendremos que modificar el Home Directory para que su home este compartida en todos los pc\u2019s Creamos el nuevo usuario En la carpeta de clientes creamos la carpeta de perils Para que no se pierdan los mount crearemos una compartici\u00f3n en el archivo \u201c/etc/fstab\u201d del cliente ubuntu para mantener siempre los usuarios. Ahora reiniciamos la m\u00e1quina y comprobamos que podamos acceder con el usuario alu2","title":"Sprint3"},{"location":"Sprint3/#sprint-3","text":"","title":"Sprint 3"},{"location":"Sprint3/#instalacion-dominio-ldap","text":"Utilizaremos \u201cxarxa NAT\u201d para que nuestra IP sea fijo independientemente de mi ubicacion. La colocamos est\u00e1tica para corroborar que no cambiara. Comprobamos la IP para ver que realmente sigue todo igual Le hacemos un ping a 8.8.8.8 para comprobar que tenemos acceso a internet. Comprobamos el hostname de nuestro equipo con el archivo /etc/hostname A\u00f1adimos un host nuevo para el dominio en el archivo /etc/hosts y en caso de haber modificado el hostname lo cambiamos donde sal\u00eda el antiguo Despu\u00e9s de este paso reiniciamos la m\u00e1quina utilizando reboot para que se aplique todo correctamente. Para comprobar que todo se a aplicado correctamente comprobamos que sale el nuevo hostname. Instalamos los paquetes slapd (Dominio) y el paquete ldap-utils (comandos para modificar el dominio). A\u00f1adimos la contrase\u00f1a. Confirmamos la contrase\u00f1a nuevamente. Comprobamos con el comando slapcat que se nos han creado los objetos basicos. Para crear el dominio b\u00e1sico (esquema) con el nombre de la organizaci\u00f3n y usuario admin tenemos 2 opciones, podemos ejecutar los archivos que nos hemos descargado del moodle o podremos utilizar el comando dpkg-reconfigure slapd . Colocaremos el nombre del dominio que tiene que ser el mismo que colocamos en etc/hosts . Colocamos el nombre de la organizaci\u00f3n, puede ser diferente. Nos pide configurar nuevamente la contrase\u00f1a. Repetimos nuevamente la contrase\u00f1a. Le damos que si a las dos ultimas opciones que nos salen. Ahora si volvemos a hacer el comando slapcat veremos que los objetos saldr\u00e1n modificados con lo que hemos colocado en la anterior configuraci\u00f3n. Modificamos el archivo uo.ldif que nos hemos descargado y lo configuramos con el dominio que configuramos anteriormente. Ahora se har\u00e1 lo mismo con el apartado de \u201cgrupos\u201d en el archivo grup.ldif , tambien modificamos en caso de que se haya cambiado el nombre de unidad organizativa al correspondiente y creamos el primer miembro del grupo en este caso \u201calu1\u201d y en el apartado \u201ccn=\u201d le damos nombre al grupo que estamos creando en este caso alumnes. Ahora hacemos lo mismo pero con el archivo de los usuarios usu.ldif , en este caso \u00fanicamente modificamos el apartado del dominio, el resto es para crear el usuario y los par\u00e1metros del mismo. IMPORTANTE! El nombre de todos los archivos que se acaba de modificar no es importante, lo que es importante es que su extensi\u00f3n siempre sea .ldif Aqui subimos con el comando ldapadd -c -x -D \u201ccn=admin,dc=gallardo,dc=com\u201d -W -f (archivo) los archivos .ldif que hemos modificado en la configuracion Ahora si hacemos un slapcat saldra toda la configuracion nueva subida","title":"Instalacion dominio LDAP"},{"location":"Sprint3/#gestion-del-dominio","text":"Comprobamos que tenemos completamente vac\u00eda la base de datos antes de comenzar con la pr\u00e1ctica usando slapcat . Importamos la nueva base de datos del nuevo documento .ldif con el comando ldapadd -x -D \u201ccn=admin,dc=gallardo,dc=com\u201d -W -f dades.ldif . Haremos la prueba para eliminar uno de los usuarios que tenemos dentro utilizare un documento para eliminarlo, una vez el documento este creado utilizare el comando ldapmodify -x -D \u201ccn=admin,dc=gallardo,dc=com\u201d -W -f uo.ldif . Me gusta utilizar m\u00e1s este m\u00e9todo ya que te dice al 100% si se ha eliminado en el mismo comando, con el otro comando no te dice absolutamente nada y tienes que ir a comprobarlo. Pero tambien se podria utilizar ldapdelete -x -D \u201ccn=admin,dc=gallardo,dc=com\u201d -W \u201cuid=trigden,ou=People,dc=gallardo,dc=com para eliminar. Si queremos modificar o a\u00f1adir algun apartado de algun usuario que tengamos tendremos que utilizar el mismo comando de ldapmodify pero tendremos que cambiar el archivo de texto. Ahora para ejecutar la modificacion tendremos que poner el comando con sudo en la terminal ldapmodify -x -D \"cn=admin,dc=gallardo,dc=com\" -W -f nombre_del_archivo . Ahora podremo eliminar tambien este mismo atributo que hemos a\u00f1adido cambiando la parte final de \"add\" a \"delete\"","title":"Gestion del dominio"},{"location":"Sprint3/#entornos-graficos","text":"Empezamos buscando apache directoy en google que es lo que utilizare como entorno grafico. Instalamos el paquete default-jre para que nos deje ejecutar el archivo. Ahora podremos ejecutar lo que hemos instalado de google Vamos a poner una nueva conexion en LDAP Apache Directory Configuramos los apartados que nos pida Una vez acabamos la configuracion que nos pide podremos ver como ya estamos dentro de nuestra conexion LDAP. Podemos comprobar que si abrimos los desplegables saldran los usuarios que tenemos nosotros ya creados etc... Vamos a crear un nuevo usuario para poder comprobar que funciona todo coorectamente asi que le daremos click derecho a la barra de la izquierda y seleccionaremos New Entry A\u00f1adimos un nuevo usuario Comenzamos a llenar la configuracion del usuario","title":"Entornos Graficos"},{"location":"Sprint3/#unir-equipos-al-dominio","text":"","title":"Unir equipos al dominio"},{"location":"Sprint3/#comprobaciones-previas","text":"Tenemos que comprobar que est\u00e1n en la misma red tanto cliente como servidor ya que sino todo lo que hagamos no servir\u00e1 de absolutamente nada. Hacemos un \u201cip a\u201d para comprobar la IP de la maquina cliente y comprobamos que este en el mismo rango que el servidor. IP CLIENTE IP SERVIDOR En mi caso la IP se duplica, cosa que no iba a funcionar, para solucionarlo la he puesto de manera manual en el cliente. Una vez las tengamos correctas comprobamos con un PING de cliente -> servidor y de servidor -> cliente para ver que si tenemos conectividad CLIENTE -> SERVIDOR SERVIDOR -> CLIENTE Tendremos que instalar estos 3 paquetes (libnss-ldap | libpam-ldap | nscd) En primer paso haremos un apt update para actualizar repositorios, despu\u00e9s utilizaremos el comando apt install libnss-ldap libpam-ldap nscd Comenzar\u00e1 un asistente para instalar los paquetes que acabamos de mencionar, tendremos que darle al ESC ignorando la configuraci\u00f3n inicial y colocaremos el comando dpkg-reconfigure ldap-auth-config para comenzar con la instalaci\u00f3n desde 0 ya que haciendolo asi nos saldran mas opciones que de manera default. Le damos a que si ya que queremos reconfigurarlo todo desde cero En este primer paso tendremos que corregir lo que sale predeterminado ldapi:/// y tendremos que colocar lo siguiente ldap://IP_Server . Cambiamos las opciones del dominio y colocamos en el servidor Escogemos la version n\u00ba3 Le damos a que SI a las dos siguientes opciones Colocamos mas configuraciones que ya se hizo previamente en el dominio del servidor del usuario con privilegios Elegimos el sistema de encriptaci\u00f3n MD5 Modificamos este archivo para que cuando vaya a buscar un archivo no pase por los archivos ya que esta en el servidor. ANTES: DESPUES:","title":"Comprobaciones Previas:"},{"location":"Sprint3/#servidor-samba","text":"","title":"Servidor SAMBA"},{"location":"Sprint3/#introduccion-samba","text":"\u00bfQu\u00e9 es SAMBA? Samba es una implementaci\u00f3n libre del protocolo de archivos compartidos de Microsoft Windows (SMB/CIFS) para sistemas Unix y Linux. Permite que los sistemas Unix y Linux act\u00faen como servidores de archivos e impresoras en redes mixtas, facilitando la interoperabilidad entre sistemas operativos diferentes. Con Samba, los usuarios pueden compartir archivos, impresoras y otros recursos en una red de manera transparente, como si estuvieran utilizando un servidor Windows.","title":"Introduccion SAMBA"},{"location":"Sprint3/#instalacion-y-configuracion-server","text":"Para comenzar con la instalaci\u00f3n de samba instalaremos el paquete principal \u201csamba\u201d con el comando apt install samba Para iniciar con la prueba de que el servidor vaya a funcionar correctamente para compartir una carpeta tendremos que crear la carpeta en este caso \u201cproves\u201d, cambiaremos los permisos de esa carpeta con chmod -R 777 proves y le cambiaremos el propietario con chown nobody:nogroup , tambi\u00e9n en el interior crearemos un archivo de texto llamado hola. Uno de los archivos a tener en cuenta que de momento no tocaremos pero se tiene que saber es el archivo smb.conf situado en la carpeta /etc/samba/smb.conf , en este caso lo \u00fanico que a\u00f1adiremos es un nuevo repositorio compartido. \u00bfQue se puede hacer con smb.conf? El archivo smb.conf es la configuraci\u00f3n principal de Samba, y controla c\u00f3mo se comporta el servidor SMB. Se encuentra normalmente en /etc/samba/smb.conf (en Linux) y permite definir qu\u00e9 carpetas se comparten, qu\u00e9 permisos tienen los usuarios, la autenticaci\u00f3n y otras opciones avanzadas. Ahora reiniciamos los dos servicios para que se apliquen correctamente los cambios Ahora crearemos usuarios para que puedan acceder al servidor samba pero que no sean logeables en el equipo. Crearemos tambi\u00e9n el usuario Roig y Groc para poder hacer pruebas a\u00f1adiendoles al grupo colors. Tambi\u00e9n crearemos el grup \u201ccolors\u201d y a\u00f1adiremos a Roig y Groc Hacemos la comprobaci\u00f3n para que se corrobore que est\u00e1 todo creado correctamente. Ahora le a\u00f1adimos una contrase\u00f1a a los usuarios en samba para poder usarlos. De esta manera los a\u00f1adimos al servicio de SAMBA","title":"Instalacion y configuracion Server"},{"location":"Sprint3/#instalacion-y-pruebas-cliente","text":"Para empezar a trabajar con el ciente instalamos el paquete \"smbclient\" con el comando apt install smbclient Para poder conectarse abrimos una pesta\u00f1a de archivos -> Otras ubicaciones y a\u00f1adimos \u201csmb://IP/Repositorio\u201d Al conectarnos como anonimo no nos tendria que dejar escribir, vamos a hacer la comprobacion. No nos ha dejado as\u00ed que haremos otra prueba cambiando los par\u00e1metros del servidor Reiniciamos los servicios para que se apliquen los cambios. Ahora si nos dejara crear carpetas en el interior de la carpeta de samba desde el cliente. Comprobamos desde el servidor que se vea el interior de la carpeta samba actualizado Ahora haremos la misma prueba pero entrando con un usuario Comprobamos que tiene permisos como indicamos en los par\u00e1metros de smb.conf Y comprobamos qui\u00e9n es el propietario de la carpeta desde el servidor. Ahora haremos la misma comprobaci\u00f3n desde uno de los usuarios que no tiene permisos. Comprobamos que no se puede crear una carpeta porque no tiene permisos. Ahora haremos la misma comprobaci\u00f3n con el usuario Roig y en teor\u00eda no nos tendr\u00eda que dejar ni entrar. Ahora nos devolvera al apartado de usuario porque no funcionara","title":"Instalaci\u00f3n y pruebas cliente"},{"location":"Sprint3/#servidor-nfs","text":"\u00bfQue es NFS? NFS (Network File System) es un protocolo de sistema de archivos distribuido que permite a los dispositivos compartir archivos y directorios a trav\u00e9s de una red, como si estuvieran en el mismo sistema. Fue desarrollado por Sun Microsystems en los a\u00f1os 80 y es ampliamente utilizado en entornos UNIX y Linux. \u00bfEn que es diferente de SAMBA? Samba y NFS tienen un prop\u00f3sito similar (compartir archivos en red), pero difieren en su funcionamiento y compatibilidad:","title":"Servidor NFS"},{"location":"Sprint3/#instalacion-parte-servidor","text":"Hacemos un apt update para que se actualicen todos los directorios para instalar los programas con la ultima version: Instalamos el paquete del NFS: Comprobamos el status del nfs para comprobar que se a instalado correctamente con el comando systemctl status nfs-server Una vez hecho esto el servidor ya est\u00e1 preparado para utilizar el servicio nfs","title":"Instalaci\u00f3n parte servidor"},{"location":"Sprint3/#instalacion-parte-cliente-ubuntu","text":"Hacemos un update para actualizar los repositorios nuevamente Instalamos el nfs-common y rpcbind con el comando apt install nfs-common rpcbind","title":"Instalaci\u00f3n parte cliente ubuntu"},{"location":"Sprint3/#instalacion-parte-cliente-windows","text":"Para la parte de Windows abrimos el panel de control Le damos a la opcion de Programes y caracteristiques Y en la parte de la izquierda le damos a la opci\u00f3n de \u201cActiva o desactiva les caract\u00e9ristiques de windows\u201d, en esta opci\u00f3n buscamos la opci\u00f3n de Servicio NFS y activamos ambas opciones expandiendo la carpeta.","title":"Instalaci\u00f3n parte cliente windows"},{"location":"Sprint3/#comparticion-carpeta-al-server-y-pruebas","text":"Creamos la carpeta que vayamos a compartir Le quitamos de ning\u00fan grupo a la carpeta y le a\u00f1adimos permisos a todos los usuarios Para compartir la carpeta tendremos que ir al documento /etc/exports y a\u00f1adir la siguiente linea: Para que funcione correctamente reiniciamos el servicio: Ahora creamos un fichero de texto dentro de la carpeta para comprobar que se ve en los clientes y verdaderamente se ha compartido. Para comprobar los permisos del cliente Windows probamos a crear algo. Ahora vamos al servidor para comprobar que se a creado correctamente y miramos el usuario. Creamos una carpeta en /mnt llamada nfs que es donde montaremos el punto de montaje con mkdir nfs . Creamos un punto de montaje de la carpeta compartida en el cliente de ubuntu. Creamos y comprobamos el interior de la carpeta para ver que realmente si que funciona Lo comprobamos desde el servidor","title":"Compartici\u00f3n carpeta al server y pruebas"},{"location":"Sprint3/#perfil-movil-ubuntu-ldap","text":"\u00bfQue es un Perfil Movil? Un perfil m\u00f3vil es un tipo de perfil de usuario que se almacena en un servidor central y se carga en cualquier equipo al que el usuario inicie sesi\u00f3n. Esto permite que los usuarios tengan un entorno de trabajo consistente y sus configuraciones personales disponibles en cualquier equipo de la red. Creamos en la raiz / la carpeta perfils con mkdir perfils Al ser una carpeta compartida para tener los perfiles en cualquier ordenador tendremos que modificar /etc/exports para compartirla. Reiniciamos el servicio nuevamente para que funcione correctamente Cuando vayamos a crear el nuevo usuario dentro del servidor tendremos que modificar el Home Directory para que su home este compartida en todos los pc\u2019s Creamos el nuevo usuario En la carpeta de clientes creamos la carpeta de perils Para que no se pierdan los mount crearemos una compartici\u00f3n en el archivo \u201c/etc/fstab\u201d del cliente ubuntu para mantener siempre los usuarios. Ahora reiniciamos la m\u00e1quina y comprobamos que podamos acceder con el usuario alu2","title":"Perfil Movil (Ubuntu LDAP)"},{"location":"Sprint4/","text":"Sprint 4 Raid's Que es un RAID: RAID (Redundant Array of Independent Disks) es una tecnolog\u00eda de almacenamiento que combina m\u00faltiples discos duros en una sola unidad l\u00f3gica para mejorar el rendimiento y la redundancia. Tipos de RAID: - RAID 0: Distribuci\u00f3n de datos sin redundancia. - RAID 1: Espejado de discos para redundancia. - RAID 5: Distribuci\u00f3n de datos y paridad. - RAID 6: Distribuci\u00f3n de datos y doble paridad. - RAID 10: Combinaci\u00f3n de RAID 1 y RAID 0. Que funcion tienen todos los RAID: Todos los RAID tienen la funci\u00f3n de mejorar el rendimiento, la redundancia y la disponibilidad de los datos. Que es un Volum? Un volumen es una unidad l\u00f3gica de almacenamiento creada a partir de uno o m\u00e1s discos f\u00edsicos. RAID 1 Hacemos un Update para actualizar los repositorios y descargar la \u00faltima versi\u00f3n Ahora instalamos el paquete que necesitaremos para poder comenzar a trabajar con los RAID Hacemos un fdisk -l para poder ver los discos Entramos dentro del disco Cambiamos el sistema de fitxeros para poder hacerlo de ambos discos. Ahora hacemos un fdisk -l para comprobar que salen de esta manera los discos que hemos cambiado. Creamos la carpeta donde se hara el raid y le entregamos todos los permisos. Ahora crearemos el RAID con el siguiente comando mdadm \u2013create /dev/md0 \u2013level=1 \u2013raid-devices=2 /dev/sdb1 /dev/sdc1 Le cambiamos el formato para poder utilizarlo Para recibir informaci\u00f3n de raid utilizaremos mdadm \u2013detail /dev/md0 Ahora haremos que el \u2013detail \u2013scan se vaya a una carpeta en un .txt que nosotros le indicaremos Ahora haremos que el raid se monte autom\u00e1ticamente yendo al archivo /etc/mdadm.conf y a\u00f1adimos la siguiente l\u00ednea Y a\u00f1adiremos tambi\u00e9n una l\u00ednea en el archivo /etc/fstab IMPORTANTE! Antes de hacer el reboot tendremos que poner las siguientes comandas Una vez se haya iniciado nuevamente la m\u00e1quina para comprobar que todo ha funcionado correctamente haremos un detail mdadm \u2013detail /dev/md0 Ahora para hacer las pruebas crearemos una carpeta y un archivo dentro Ahora haremos fallar uno de los discos para comprobar que pasa mdadm /dev/md0 -f /dev/sdb1 Tendr\u00eda que salir asi en un detail Ahora quitaremos el disco que falla como se hace en maquinas fisicas, se hara con el comando mdadm /dev/md0 -r /dev/sdb1 Ahora para comprobar que podemos trabajar con un solo disco crearemos algo nuevamente Ahora volveremos a a\u00f1adir el disco utilizando mdadm /dev/md0 -a /dev/sdb1 y rapidamente haremos un detail para ver como se esta copiando el contenido Si volvemos a hacer el detail tendr\u00eda que salir el estado ACTIVE como de normal. Ahora comprobaremos lo mismo pero quitando el disco desde el VB con la m\u00e1quina apagada Una vez la m\u00e1quina se a encendido volveremos a hacer un detail a ver qu\u00e9 est\u00e1 pasando Y podemos comprobar que en la carpeta raid1 no hay nada Ahora pararemos el raid para poder montarlo con un solo disco, le haremos un update para que pueda volver a funcionar con normalidad y lo montaremos Comprobamos que funcione Ahora nuevamente creamos otro disco y lo a\u00f1adimos a la maquina virtual Comprobamos que se sigue manteniendo el raid activo y se puede seguir trabajando Comprobamos como se llama el nuevo disco y lo particionamos como antes. Ahora a\u00f1adimos el disco al raid Y comprobamos que podemos ver las cosas en la carpeta de raid1 Ahora veremos si funciona correctamente despu\u00e9s de hacer un reboot. Ahora desmontamos el raid y lo pararemos Eliminaremos el interior la carpeta de raid1 Entraremos al fstab y comentaremos la l\u00ednea del fstab para que no se monte nuevamente Tambi\u00e9n borraremos las lineas del mdadm.conf Haremos un \u2013stop , --remove y un --superblock ya despu\u00e9s un reboot para comprobar si se vuelve a montar el raid una vez reiniciada. RAID 5 Para un raid 5 tendremos que a\u00f1adir 4 discos duros en el virtual box. Hacemos un fdisk -l para poder ver los discos Tenemos que entrar dentro de cada disco para cambiar el sistema de fitxeros de cada uno de ellos. Al no tener particion en los 2 discos nuevos tendremos que crearla en el disco \u201csdd\u201d y \u201csde\u201d. Ahora hacemos un \u201cfdisk -l\u201d para comprobar que salen de esta manera los discos que hemos cambiado y verificar que lo hemos hecho adecuadamente. Creamos la carpeta donde se formar\u00e1 el raid y le entregamos todos los permisos para poderla utilizar al completo. Ahora crearemos el \u201cRAID\u201d con el siguiente comando mdadm \u2013create /dev/md0 \u2013level=5 \u2013raid-devices=4 /dev/sdb1 /dev/sdc1 /dev/sdd1 /dev/sde1 Le cambiamos el formato para poder utilizarlo Para recibir informaci\u00f3n de raid utilizaremos mdadm \u2013detail /dev/md0 Ahora haremos que el \u2013detail \u2013scan se vaya a una carpeta en un .txt que nosotros le indicaremos Haremos que el raid se monte autom\u00e1ticamente yendo al archivo /etc/mdadm.conf y a\u00f1adimos la siguiente l\u00ednea Y a\u00f1adiremos tambi\u00e9n una l\u00ednea en el archivo /etc/fstab IMPORTANTE! Antes de hacer el reboot tendremos que poner las siguientes comandas Una vez se haya iniciado nuevamente la m\u00e1quina para comprobar que todo ha funcionado correctamente haremos un detail mdadm \u2013detail /dev/md0 Ahora para hacer las pruebas crearemos una carpeta y un archivo dentro Ahora haremos fallar uno de los discos para comprobar que pasa mdadm /dev/md0 -f /dev/sdb1 Hacemos un detail y comprobamos que uno de los discos sale fallando. Ahora quitaremos el disco que falla como se hace en maquinas fisicas, se hara con el comando mdadm /dev/md0 -r /dev/sdb1 Haciendo un detail tendria que salir que el disco esta en el stado \u201cremoved\u201d Ahora para comprobar que podemos trabajar con un disco menos crearemos algo nuevamente Ahora quitaremos otro de los discos para comprobar que pasa con el raid. Ahora comprobaremos si funciona Sigue funcionando, por lo que saldremos de la maquina y quitaremos los discos de la misma para comprobar que pasa. Una vez la m\u00e1quina se a encendido volveremos a hacer un detail a ver qu\u00e9 est\u00e1 pasando Y podemos confirmar que ya no funciona","title":"Sprint4"},{"location":"Sprint4/#sprint-4","text":"","title":"Sprint 4"},{"location":"Sprint4/#raids","text":"Que es un RAID: RAID (Redundant Array of Independent Disks) es una tecnolog\u00eda de almacenamiento que combina m\u00faltiples discos duros en una sola unidad l\u00f3gica para mejorar el rendimiento y la redundancia. Tipos de RAID: - RAID 0: Distribuci\u00f3n de datos sin redundancia. - RAID 1: Espejado de discos para redundancia. - RAID 5: Distribuci\u00f3n de datos y paridad. - RAID 6: Distribuci\u00f3n de datos y doble paridad. - RAID 10: Combinaci\u00f3n de RAID 1 y RAID 0. Que funcion tienen todos los RAID: Todos los RAID tienen la funci\u00f3n de mejorar el rendimiento, la redundancia y la disponibilidad de los datos. Que es un Volum? Un volumen es una unidad l\u00f3gica de almacenamiento creada a partir de uno o m\u00e1s discos f\u00edsicos.","title":"Raid's"},{"location":"Sprint4/#raid-1","text":"Hacemos un Update para actualizar los repositorios y descargar la \u00faltima versi\u00f3n Ahora instalamos el paquete que necesitaremos para poder comenzar a trabajar con los RAID Hacemos un fdisk -l para poder ver los discos Entramos dentro del disco Cambiamos el sistema de fitxeros para poder hacerlo de ambos discos. Ahora hacemos un fdisk -l para comprobar que salen de esta manera los discos que hemos cambiado. Creamos la carpeta donde se hara el raid y le entregamos todos los permisos. Ahora crearemos el RAID con el siguiente comando mdadm \u2013create /dev/md0 \u2013level=1 \u2013raid-devices=2 /dev/sdb1 /dev/sdc1 Le cambiamos el formato para poder utilizarlo Para recibir informaci\u00f3n de raid utilizaremos mdadm \u2013detail /dev/md0 Ahora haremos que el \u2013detail \u2013scan se vaya a una carpeta en un .txt que nosotros le indicaremos Ahora haremos que el raid se monte autom\u00e1ticamente yendo al archivo /etc/mdadm.conf y a\u00f1adimos la siguiente l\u00ednea Y a\u00f1adiremos tambi\u00e9n una l\u00ednea en el archivo /etc/fstab","title":"RAID 1"},{"location":"Sprint4/#importante","text":"Antes de hacer el reboot tendremos que poner las siguientes comandas Una vez se haya iniciado nuevamente la m\u00e1quina para comprobar que todo ha funcionado correctamente haremos un detail mdadm \u2013detail /dev/md0 Ahora para hacer las pruebas crearemos una carpeta y un archivo dentro Ahora haremos fallar uno de los discos para comprobar que pasa mdadm /dev/md0 -f /dev/sdb1 Tendr\u00eda que salir asi en un detail Ahora quitaremos el disco que falla como se hace en maquinas fisicas, se hara con el comando mdadm /dev/md0 -r /dev/sdb1 Ahora para comprobar que podemos trabajar con un solo disco crearemos algo nuevamente Ahora volveremos a a\u00f1adir el disco utilizando mdadm /dev/md0 -a /dev/sdb1 y rapidamente haremos un detail para ver como se esta copiando el contenido Si volvemos a hacer el detail tendr\u00eda que salir el estado ACTIVE como de normal. Ahora comprobaremos lo mismo pero quitando el disco desde el VB con la m\u00e1quina apagada Una vez la m\u00e1quina se a encendido volveremos a hacer un detail a ver qu\u00e9 est\u00e1 pasando Y podemos comprobar que en la carpeta raid1 no hay nada Ahora pararemos el raid para poder montarlo con un solo disco, le haremos un update para que pueda volver a funcionar con normalidad y lo montaremos Comprobamos que funcione Ahora nuevamente creamos otro disco y lo a\u00f1adimos a la maquina virtual Comprobamos que se sigue manteniendo el raid activo y se puede seguir trabajando Comprobamos como se llama el nuevo disco y lo particionamos como antes. Ahora a\u00f1adimos el disco al raid Y comprobamos que podemos ver las cosas en la carpeta de raid1 Ahora veremos si funciona correctamente despu\u00e9s de hacer un reboot. Ahora desmontamos el raid y lo pararemos Eliminaremos el interior la carpeta de raid1 Entraremos al fstab y comentaremos la l\u00ednea del fstab para que no se monte nuevamente Tambi\u00e9n borraremos las lineas del mdadm.conf Haremos un \u2013stop , --remove y un --superblock ya despu\u00e9s un reboot para comprobar si se vuelve a montar el raid una vez reiniciada.","title":"IMPORTANTE!"},{"location":"Sprint4/#raid-5","text":"Para un raid 5 tendremos que a\u00f1adir 4 discos duros en el virtual box. Hacemos un fdisk -l para poder ver los discos Tenemos que entrar dentro de cada disco para cambiar el sistema de fitxeros de cada uno de ellos. Al no tener particion en los 2 discos nuevos tendremos que crearla en el disco \u201csdd\u201d y \u201csde\u201d. Ahora hacemos un \u201cfdisk -l\u201d para comprobar que salen de esta manera los discos que hemos cambiado y verificar que lo hemos hecho adecuadamente. Creamos la carpeta donde se formar\u00e1 el raid y le entregamos todos los permisos para poderla utilizar al completo. Ahora crearemos el \u201cRAID\u201d con el siguiente comando mdadm \u2013create /dev/md0 \u2013level=5 \u2013raid-devices=4 /dev/sdb1 /dev/sdc1 /dev/sdd1 /dev/sde1 Le cambiamos el formato para poder utilizarlo Para recibir informaci\u00f3n de raid utilizaremos mdadm \u2013detail /dev/md0 Ahora haremos que el \u2013detail \u2013scan se vaya a una carpeta en un .txt que nosotros le indicaremos Haremos que el raid se monte autom\u00e1ticamente yendo al archivo /etc/mdadm.conf y a\u00f1adimos la siguiente l\u00ednea Y a\u00f1adiremos tambi\u00e9n una l\u00ednea en el archivo /etc/fstab","title":"RAID 5"},{"location":"Sprint4/#importante_1","text":"Antes de hacer el reboot tendremos que poner las siguientes comandas Una vez se haya iniciado nuevamente la m\u00e1quina para comprobar que todo ha funcionado correctamente haremos un detail mdadm \u2013detail /dev/md0 Ahora para hacer las pruebas crearemos una carpeta y un archivo dentro Ahora haremos fallar uno de los discos para comprobar que pasa mdadm /dev/md0 -f /dev/sdb1 Hacemos un detail y comprobamos que uno de los discos sale fallando. Ahora quitaremos el disco que falla como se hace en maquinas fisicas, se hara con el comando mdadm /dev/md0 -r /dev/sdb1 Haciendo un detail tendria que salir que el disco esta en el stado \u201cremoved\u201d Ahora para comprobar que podemos trabajar con un disco menos crearemos algo nuevamente Ahora quitaremos otro de los discos para comprobar que pasa con el raid. Ahora comprobaremos si funciona Sigue funcionando, por lo que saldremos de la maquina y quitaremos los discos de la misma para comprobar que pasa. Una vez la m\u00e1quina se a encendido volveremos a hacer un detail a ver qu\u00e9 est\u00e1 pasando Y podemos confirmar que ya no funciona","title":"IMPORTANTE!"},{"location":"Sprint5/","text":"Sprint 5 Monitorizaci\u00f3n y rendimiento Podemos monitorizar y ver el rendimeinto de nuestro ordenador por herramientas graficas como por ejemplo Monitor del Sistema Tambien tenemos un apartado importante que son los Log\u2019s. \u00bfQue es un Log? Un log es un archivo que registra eventos que ocurren en un sistema operativo o software. Estos registros son \u00fatiles para diagnosticar problemas, realizar auditor\u00edas y monitorear el rendimiento del sistema. En Ubuntu tenemos mucha cantidad de Log\u2019s y se encuentran en /var/log Podemos ver la configuraci\u00f3n de estos logs en el documento /etc/logrotate.conf Tambi\u00e9n est\u00e1 el /etc/logrotate.d que sirve para personalizar en especifico una a una de las configuraciones de los logs. En el archivo /etc/rsyslog.d/50-default.conf servir\u00e1 para indicar los logs que queremos que se guarden y donde queremos que se guarden. Haremos las pruebas teniendo 2 terminales abiertas, una teniendo un tail de syslog para ver lo que pasa en todo momento. Y en otra terminal iremos haciendo las pruebas como por ejemplo de mail Podemos comprobar que sale en el tail Y comprobamos que tambien se han hecho en el documento de la configuraci\u00f3n Editamos la configuracion de esta manera y volvemos a hacer la misma prueba. Ahora volvems a hacer la misma prueba de la misma manera y comprobamos que solo nos sale esa alerta. Ahora hacemos un nuevo log en 50-default.conf para dividir los que mas nos interesan en un archivo nuevo. Reiniciamos el servicio Le hacemos la prueba poniendo una de las terminales con el tail de syslog para comprobar que salta el error, y en la otra terminal hacemos un logger para que salte un error critico. Y comprobamos que vaya al archivo que le hemos indicado. Para que nos salgan en el tail de syslog esta clase de errores tenemos que modificar esta linea del 50-default.conf y dejarla unicamente con \u201c * \u201d Tenemos tambi\u00e9n comandos para ver los avisos que han saltado en el servicio por ejemplo para ver los cr\u00edticos. Utilizaremos \u201cjournalctl\u201d Journalctl tambien puede filtrar alertas de los usuarios, podemos de un usuario en concreto utilizando el \u201cUID\u201d del usuario O para ver usuarios en general se hara con \u2013user journalctl entre fechas: 1. Filtrar entre dos fechas espec\u00edficas journalctl --since \"2025-03-10 12:00:00\" --until \"2025-03-12 18:30:00\" 2. Filtrar desde una fecha en adelante journalctl --since \"2025-03-10\" 3. Filtrar hasta una fecha espec\u00edfica journalctl --until \"2025-03-12\" 4. Filtrar usando tiempos relativos journalctl --since \"1 day ago\" Auditorias \u00bfQue es Lynis? Lynis es un esc\u00e1ner de seguridad de c\u00f3digo abierto que se usa para: Evaluar la seguridad del sistema. Detectar configuraciones d\u00e9biles o incorrectas. Recomendar mejoras para proteger mejor un servidor o equipo Linux. Fue dise\u00f1ado para administradores de sistemas, auditores y profesionales de seguridad. Instalamos Lynis ejecutando el siguiente comando Y con un simple comando como es lynis audit system podriamos tener toda la informacion de la maquina. Podemos ver diferentes parametros del sistema Tambien hay opciones para hacerlo de manera mas estructurada y que no nos salga toda la informacion directamente, sino que podemos filtrar por categorias con el comadando. lynis audit system --tests-from-category \"kernel\" , de esta manera nos saldra unicamente la informacion necesaria del equipo y la categoria que nosotros hemos especificado Servidor de actualizaciones \u00bfQue es? Un servidor de actualizaciones es un sistema que gestiona y distribuye actualizaciones de software a otros equipos en una red. \u00bfPara qu\u00e9 sirve? Sirve para centralizar la gesti\u00f3n de actualizaciones, asegurando que todos los equipos de la red reciban las actualizaciones necesarias de manera eficiente y oportuna, mejorando la seguridad y el rendimiento del sistema. Instalaremos el paquete Apache2 para poder comenzar con el servidor. Tambi\u00e9n descargamos el paquete apt-mirror Abriremos el archivo /etc/apt/mirror.list para indicar el repositorio que se tendran que bajar los clientes, comentaremos todas las lineas para que no se descarguen los GB innecesarios que no queremos ahora mismo y a\u00f1adiremos nuestra propia linea con lo que queremos que se descargue Para descargar el repositorio en nuestro equipo colocamos la comanda apt-mirror Creamos un soft-link y comprobamos el interior de la carpeta indicada. En el cliente modificamos este archivo para que coga el repositorio del servidor Ejecutamos el sigueinte comando Creamos un soft link entre donde hemos a\u00f1adido el repositorio de chrome al servidor apache que hemos instalado. Ahora en el CLIENTE Firmamos con google chrome A\u00f1adimos el repositorio de Google Chrome pero esta vez desde nuestro servidor. En el directorio /etc/apt/ editamos el fichero sources.list y a\u00f1adimos el servidor y el paquete. Ahora al hacer un apt update deberia salirnos el servidor con el repositorio de Google Chrome.","title":"Sprint5"},{"location":"Sprint5/#sprint-5","text":"","title":"Sprint 5"},{"location":"Sprint5/#monitorizacion-y-rendimiento","text":"Podemos monitorizar y ver el rendimeinto de nuestro ordenador por herramientas graficas como por ejemplo Monitor del Sistema Tambien tenemos un apartado importante que son los Log\u2019s. \u00bfQue es un Log? Un log es un archivo que registra eventos que ocurren en un sistema operativo o software. Estos registros son \u00fatiles para diagnosticar problemas, realizar auditor\u00edas y monitorear el rendimiento del sistema. En Ubuntu tenemos mucha cantidad de Log\u2019s y se encuentran en /var/log Podemos ver la configuraci\u00f3n de estos logs en el documento /etc/logrotate.conf Tambi\u00e9n est\u00e1 el /etc/logrotate.d que sirve para personalizar en especifico una a una de las configuraciones de los logs. En el archivo /etc/rsyslog.d/50-default.conf servir\u00e1 para indicar los logs que queremos que se guarden y donde queremos que se guarden. Haremos las pruebas teniendo 2 terminales abiertas, una teniendo un tail de syslog para ver lo que pasa en todo momento. Y en otra terminal iremos haciendo las pruebas como por ejemplo de mail Podemos comprobar que sale en el tail Y comprobamos que tambien se han hecho en el documento de la configuraci\u00f3n Editamos la configuracion de esta manera y volvemos a hacer la misma prueba. Ahora volvems a hacer la misma prueba de la misma manera y comprobamos que solo nos sale esa alerta. Ahora hacemos un nuevo log en 50-default.conf para dividir los que mas nos interesan en un archivo nuevo. Reiniciamos el servicio Le hacemos la prueba poniendo una de las terminales con el tail de syslog para comprobar que salta el error, y en la otra terminal hacemos un logger para que salte un error critico. Y comprobamos que vaya al archivo que le hemos indicado. Para que nos salgan en el tail de syslog esta clase de errores tenemos que modificar esta linea del 50-default.conf y dejarla unicamente con \u201c * \u201d Tenemos tambi\u00e9n comandos para ver los avisos que han saltado en el servicio por ejemplo para ver los cr\u00edticos. Utilizaremos \u201cjournalctl\u201d Journalctl tambien puede filtrar alertas de los usuarios, podemos de un usuario en concreto utilizando el \u201cUID\u201d del usuario O para ver usuarios en general se hara con \u2013user journalctl entre fechas:","title":"Monitorizaci\u00f3n y rendimiento"},{"location":"Sprint5/#1-filtrar-entre-dos-fechas-especificas","text":"journalctl --since \"2025-03-10 12:00:00\" --until \"2025-03-12 18:30:00\"","title":"1. Filtrar entre dos fechas espec\u00edficas"},{"location":"Sprint5/#2-filtrar-desde-una-fecha-en-adelante","text":"journalctl --since \"2025-03-10\"","title":"2. Filtrar desde una fecha en adelante"},{"location":"Sprint5/#3-filtrar-hasta-una-fecha-especifica","text":"journalctl --until \"2025-03-12\"","title":"3. Filtrar hasta una fecha espec\u00edfica"},{"location":"Sprint5/#4-filtrar-usando-tiempos-relativos","text":"journalctl --since \"1 day ago\"","title":"4. Filtrar usando tiempos relativos"},{"location":"Sprint5/#auditorias","text":"\u00bfQue es Lynis? Lynis es un esc\u00e1ner de seguridad de c\u00f3digo abierto que se usa para: Evaluar la seguridad del sistema. Detectar configuraciones d\u00e9biles o incorrectas. Recomendar mejoras para proteger mejor un servidor o equipo Linux. Fue dise\u00f1ado para administradores de sistemas, auditores y profesionales de seguridad. Instalamos Lynis ejecutando el siguiente comando Y con un simple comando como es lynis audit system podriamos tener toda la informacion de la maquina. Podemos ver diferentes parametros del sistema Tambien hay opciones para hacerlo de manera mas estructurada y que no nos salga toda la informacion directamente, sino que podemos filtrar por categorias con el comadando. lynis audit system --tests-from-category \"kernel\" , de esta manera nos saldra unicamente la informacion necesaria del equipo y la categoria que nosotros hemos especificado","title":"Auditorias"},{"location":"Sprint5/#servidor-de-actualizaciones","text":"\u00bfQue es? Un servidor de actualizaciones es un sistema que gestiona y distribuye actualizaciones de software a otros equipos en una red. \u00bfPara qu\u00e9 sirve? Sirve para centralizar la gesti\u00f3n de actualizaciones, asegurando que todos los equipos de la red reciban las actualizaciones necesarias de manera eficiente y oportuna, mejorando la seguridad y el rendimiento del sistema. Instalaremos el paquete Apache2 para poder comenzar con el servidor. Tambi\u00e9n descargamos el paquete apt-mirror Abriremos el archivo /etc/apt/mirror.list para indicar el repositorio que se tendran que bajar los clientes, comentaremos todas las lineas para que no se descarguen los GB innecesarios que no queremos ahora mismo y a\u00f1adiremos nuestra propia linea con lo que queremos que se descargue Para descargar el repositorio en nuestro equipo colocamos la comanda apt-mirror Creamos un soft-link y comprobamos el interior de la carpeta indicada. En el cliente modificamos este archivo para que coga el repositorio del servidor Ejecutamos el sigueinte comando Creamos un soft link entre donde hemos a\u00f1adido el repositorio de chrome al servidor apache que hemos instalado. Ahora en el CLIENTE Firmamos con google chrome A\u00f1adimos el repositorio de Google Chrome pero esta vez desde nuestro servidor. En el directorio /etc/apt/ editamos el fichero sources.list y a\u00f1adimos el servidor y el paquete. Ahora al hacer un apt update deberia salirnos el servidor con el repositorio de Google Chrome.","title":"Servidor de actualizaciones"}]}